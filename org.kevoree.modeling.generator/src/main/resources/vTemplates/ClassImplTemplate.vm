#set($classDeclaration = $context.classDeclaration)
package ${classDeclaration.pack}.impl;

public class ${classDeclaration.name}Impl extends org.kevoree.modeling.api.abs.AbstractKObject<${classDeclaration.pack}.${classDeclaration.name}, ${context.generationContext.metaModelPackage}.${context.generationContext.metaModelName}View> implements ${classDeclaration.pack}.${classDeclaration.name} {

    public ${classDeclaration.name}Impl(${context.generationContext.metaModelPackage}.${context.generationContext.metaModelName}View p_factory, org.kevoree.modeling.api.meta.MetaClass p_metaClass, long p_uuid, Long p_now, org.kevoree.modeling.api.KDimension p_dimension, org.kevoree.modeling.api.time.TimeTree p_timeTree) {
        super(p_factory, p_metaClass, p_uuid, p_now, p_dimension, p_timeTree);
    }

    @Override
    public org.kevoree.modeling.api.meta.MetaAttribute[] metaAttributes() {
        return ${classDeclaration.pack}.${classDeclaration.name}.METAATTRIBUTES.values();
    }

    @Override
        public org.kevoree.modeling.api.meta.MetaReference[] metaReferences() {
        return ${classDeclaration.pack}.${classDeclaration.name}.METAREFERENCES.values();
    }

    @Override
    public org.kevoree.modeling.api.meta.MetaOperation[] metaOperations() {
        return ${classDeclaration.pack}.${classDeclaration.name}.METAOPERATION.values();
    }


#foreach($attribute in $classDeclaration.attributes)
    #if($attribute.single)
    @Override
    public ${attribute.getType()} get${context.generationContext.helper.toCamelCase($attribute.getName())}() {
        return ($attribute.getType()) get(${classDeclaration.pack}.${classDeclaration.name}.METAATTRIBUTES.$attribute.getName().toUpperCase());
    }

    @Override
    public ${classDeclaration.pack}.${classDeclaration.name} set${context.generationContext.helper.toCamelCase(${attribute.getName()})}($attribute.getType() p_obj) {
        set(${classDeclaration.pack}.${classDeclaration.name}.METAATTRIBUTES.$attribute.getName().toUpperCase(), p_obj);
        return this;
    }
    #{else}
    @Override
    public ${classDeclaration.pack}.${classDeclaration.name} add${context.generationContext.helper.toCamelCase(${attribute.getName()})}(${attribute.getType()} p_obj) {
        mutate(org.kevoree.modeling.api.KActionType.ADD, ${classDeclaration.pack}.${classDeclaration.name}.METAATTRIBUTES.${attribute.getName().toUpperCase()}, p_obj, true);
        return this;
    }

    @Override
    public ${classDeclaration.pack}.${classDeclaration.name} remove${context.generationContext.helper.toCamelCase(${attribute.getName()})}(${attribute.getType()} p_obj) {
        mutate(org.kevoree.modeling.api.KActionType.REMOVE, ${classDeclaration.pack}.${classDeclaration.name}.METAATTRIBUTES.${attribute.getName().toUpperCase()}, p_obj, true;
        return this;
    }

    @Override
    public void each${context.generationContext.helper.toCamelCase(${attribute.getName()})}(org.kevoree.modeling.api.Callback<${attribute.getType()}> p_callback, org.kevoree.modeling.api.Callback<Throwable> p_end) {
        each(${classDeclaration.pack}.${classDeclaration.name}.METAATTRIBUTES.${attribute.getName().toUpperCase()}, p_callback, p_end);
    }
    #end
#end


#foreach($ref in $classDeclaration.references)
    #if($ref.single)
    @Override
    public ${classDeclaration.pack}.${classDeclaration.name} set${context.generationContext.helper.toCamelCase(${ref.getName()})}(${ref.getType().fqn} p_obj) {
        mutate(org.kevoree.modeling.api.KActionType.SET, ${classDeclaration.pack}.${classDeclaration.name}.METAREFERENCES.${ref.getName().toUpperCase()}, p_obj, true);
        return this;
    }

    @Override
    public void get${context.generationContext.helper.toCamelCase(${ref.getName()})}(org.kevoree.modeling.api.Callback<${ref.getType().fqn}> p_callback) {
        each(${classDeclaration.pack}.${classDeclaration.name}.METAREFERENCES.${ref.getName().toUpperCase()}, p_callback, null);
    }
    #{else}
    @Override
    public ${classDeclaration.pack}.${classDeclaration.name} add${context.generationContext.helper.toCamelCase(${ref.getName()})}(${ref.getType().fqn} p_obj) {
        mutate(org.kevoree.modeling.api.KActionType.ADD, ${classDeclaration.pack}.${classDeclaration.name}.METAREFERENCES.${ref.getName().toUpperCase()}, p_obj, true);
        return this;
    }

    @Override
    public ${classDeclaration.pack}.${classDeclaration.name} remove${context.generationContext.helper.toCamelCase(${ref.getName()})}(${ref.getType().fqn} p_obj) {
        mutate(org.kevoree.modeling.api.KActionType.REMOVE, ${classDeclaration.pack}.${classDeclaration.name}.METAREFERENCES.${ref.getName().toUpperCase()}, p_obj, true);
        return this;
    }

    @Override
    public void each${context.generationContext.helper.toCamelCase(${ref.getName()})}(org.kevoree.modeling.api.Callback<${ref.getType().fqn}> p_callback, org.kevoree.modeling.api.Callback<Throwable> p_end) {
        each(${classDeclaration.pack}.${classDeclaration.name}.METAREFERENCES.${ref.getName().toUpperCase()}, p_callback, p_end);
    }

    public int sizeOf${context.generationContext.helper.toCamelCase($ref.getName())}() {
        return size(${classDeclaration.pack}.${classDeclaration.name}.METAREFERENCES.${ref.getName().toUpperCase()});
    }
    #end
#end

#foreach($operation in $classDeclaration.operations)
    public void ${operation.name}(#foreach($p in $operation.inputParams)$p.type $p.name, #{end}org.kevoree.modeling.api.Callback<#if(${operation.returnParam})$operation.returnParam.type#{else}Boolean#end> result){
    }
#end

}
#* @vtlvariable name="context" type="org.kevoree.modeling.generator.ClassGenerationContext" *#
#* @vtlvariable name="classDeclaration" type="org.kevoree.modeling.ast.MModelClass" *#