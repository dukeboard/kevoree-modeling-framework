<?xml version="1.0" encoding="ASCII"?>
<thingml:ThingMLModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:thingml="http://thingml">
  <types xsi:type="thingml:PrimitiveType" name="Byte">
    <annotations name="c_type" value="uint8_t"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="Byte"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Boolean">
    <annotations name="c_type" value="uint8_t"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="Boolean"/>
    <annotations name="SenML_type" value="Boolean"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Integer">
    <annotations name="c_type" value="int"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="Short"/>
    <annotations name="SenML_type" value="Double"/>
    <annotations name="ros_type" value="int16"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="UInt8">
    <annotations name="c_type" value="uint8_t"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="Byte"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Int8">
    <annotations name="c_type" value="int8_t"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="Byte"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="UInt16">
    <annotations name="c_type" value="uint16_t"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="Short"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Int16">
    <annotations name="c_type" value="int"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="Short"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Long">
    <annotations name="c_type" value="long"/>
    <annotations name="c_byte_size" value="4"/>
    <annotations name="java_type" value="Integer"/>
    <annotations name="scala_type" value="Int"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="ULong">
    <annotations name="c_type" value="unsigned long"/>
    <annotations name="c_byte_size" value="4"/>
    <annotations name="java_type" value="Integer"/>
    <annotations name="scala_type" value="Int"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Double">
    <annotations name="c_type" value="double"/>
    <annotations name="c_byte_size" value="4"/>
    <annotations name="java_type" value="Float"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Char">
    <annotations name="c_type" value="char"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="Char"/>
    <annotations name="SenML_type" value="String"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="String">
    <annotations name="c_type" value="char *"/>
    <annotations name="c_byte_size" value="*"/>
    <annotations name="java_type" value="String"/>
    <annotations name="SenML_type" value="String"/>
  </types>
  <types xsi:type="thingml:Enumeration" name="DigitalState">
    <annotations name="java_type" value="Byte"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="LOW">
      <annotations name="enum_val" value="0"/>
    </literals>
    <literals name="HIGH">
      <annotations name="enum_val" value="1"/>
    </literals>
  </types>
  <types xsi:type="thingml:Thing" name="bCMSMsgs" fragment="true">
    <messages name="initCom">
      <parameters type="//@types.11" name="id"/>
    </messages>
    <messages name="crisisDetails">
      <parameters type="//@types.11" name="id"/>
      <parameters type="//@types.9" name="lat"/>
      <parameters type="//@types.9" name="lon"/>
      <parameters type="//@types.7" name="time"/>
      <parameters type="//@types.1" name="isActive"/>
      <parameters type="//@types.11" name="desc"/>
    </messages>
    <messages name="numberOfTrucks">
      <parameters type="//@types.7" name="number"/>
    </messages>
    <messages name="route">
      <parameters type="//@types.11" name="crisisID"/>
      <parameters type="//@types.7" name="pVehicles"/>
      <parameters type="//@types.7" name="fVehicles"/>
      <parameters type="//@types.11" name="path"/>
    </messages>
    <messages name="ackRoute"/>
    <messages name="dispatched"/>
    <messages name="arrived"/>
    <messages name="done"/>
    <messages name="close"/>
  </types>
  <types xsi:type="thingml:Thing" name="PSC_Interface" fragment="true" includes="//@types.13">
    <ports xsi:type="thingml:RequiredPort" name="out" sends="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.3 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
    <ports xsi:type="thingml:ProvidedPort" name="in" receives="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.4 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
  </types>
  <types xsi:type="thingml:Thing" name="FSC_Interface" fragment="true" includes="//@types.13">
    <ports xsi:type="thingml:RequiredPort" name="out" sends="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.4 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
    <ports xsi:type="thingml:ProvidedPort" name="in" receives="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.3 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
  </types>
  <types xsi:type="thingml:Thing" name="bCMS_Interface" fragment="true" includes="//@types.13">
    <ports xsi:type="thingml:ProvidedPort" name="fromPSC" receives="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.3 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
    <ports xsi:type="thingml:RequiredPort" name="toPSC" sends="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.4 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
    <ports xsi:type="thingml:ProvidedPort" name="fromFSC" receives="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.4 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
    <ports xsi:type="thingml:RequiredPort" name="toFSC" sends="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.3 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
  </types>
  <types xsi:type="thingml:Thing" name="FSC_Mock" includes="//@types.15">
    <annotations name="mock" value="true"/>
  </types>
  <types xsi:type="thingml:Thing" name="PSC_Mock" includes="//@types.14">
    <annotations name="mock" value="true"/>
  </types>
  <types xsi:type="thingml:Thing" name="bCMS_Mock" includes="//@types.16">
    <annotations name="mock" value="true"/>
  </types>
  <types xsi:type="thingml:Thing" name="GUIbCMSMsgs" fragment="true">
    <messages name="gui_initCom">
      <parameters type="//@types.1" name="activate"/>
    </messages>
    <messages name="gui_crisisDetails">
      <parameters type="//@types.1" name="activate"/>
    </messages>
    <messages name="gui_numberOfTrucks">
      <parameters type="//@types.1" name="activate"/>
    </messages>
    <messages name="gui_route">
      <parameters type="//@types.1" name="activate"/>
    </messages>
    <messages name="gui_ackRoute">
      <parameters type="//@types.1" name="activate"/>
    </messages>
    <messages name="gui_dispatched">
      <parameters type="//@types.1" name="activate"/>
    </messages>
    <messages name="gui_arrived">
      <parameters type="//@types.1" name="activate"/>
    </messages>
    <messages name="gui_done">
      <parameters type="//@types.1" name="activate"/>
    </messages>
    <messages name="gui_close">
      <parameters type="//@types.1" name="activate"/>
    </messages>
  </types>
  <types xsi:type="thingml:Thing" name="GUIbCMS_Controller" fragment="true" includes="//@types.20">
    <ports xsi:type="thingml:ProvidedPort" name="internIN" receives="//@types.21/@messages.0 //@types.21/@messages.1 //@types.21/@messages.2 //@types.21/@messages.3 //@types.21/@messages.4 //@types.21/@messages.5 //@types.21/@messages.6"/>
    <ports xsi:type="thingml:RequiredPort" name="internOUT" sends="//@types.21/@messages.0 //@types.21/@messages.1 //@types.21/@messages.2 //@types.21/@messages.3 //@types.21/@messages.4 //@types.21/@messages.5 //@types.21/@messages.6"/>
    <messages name="initComOK"/>
    <messages name="crisisDetailsOK"/>
    <messages name="numberOfTrucksOK"/>
    <messages name="dispatchedOK"/>
    <messages name="arrivedOK"/>
    <messages name="doneOK"/>
    <messages name="closeOK"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="PSC_GUI">
    <annotations name="java_type" value="org.thingml.generated.PSC_MockMock"/>
  </types>
  <types xsi:type="thingml:Thing" name="PSC_GUI" includes="//@types.20 //@types.13">
    <annotations name="java_interface" value="org.thingml.generated.PSC_MockListener"/>
    <properties type="//@types.22" name="gui" changeable="false">
      <init xsi:type="thingml:ExternExpression" expression="new org.thingml.generated.PSC_MockMock()"/>
    </properties>
    <ports xsi:type="thingml:ProvidedPort" name="control" receives="//@types.20/@messages.0 //@types.20/@messages.1 //@types.20/@messages.2 //@types.20/@messages.3 //@types.20/@messages.5 //@types.20/@messages.6 //@types.20/@messages.7 //@types.20/@messages.8"/>
    <ports xsi:type="thingml:RequiredPort" name="out" sends="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.3 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
    <behaviour name="behavior" initial="//@types.23/@behaviour.0/@substate.0">
      <entry xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.23/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".listeners.add(root.asInstanceOf[org.thingml.generated.PSC_MockListener]);"/>
        </actions>
      </entry>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.0" port="//@types.23/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.23/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendinitCom_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.23/@behaviour.0/@internal.0/@event.0" paramRef="//@types.20/@messages.0/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.1" port="//@types.23/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.23/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendcrisisDetails_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.23/@behaviour.0/@internal.1/@event.0" paramRef="//@types.20/@messages.1/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.2" port="//@types.23/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.23/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendnumberOfTrucks_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.23/@behaviour.0/@internal.2/@event.0" paramRef="//@types.20/@messages.2/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.3" port="//@types.23/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.23/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendroute_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.23/@behaviour.0/@internal.3/@event.0" paramRef="//@types.20/@messages.3/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.5" port="//@types.23/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.23/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".senddispatched_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.23/@behaviour.0/@internal.4/@event.0" paramRef="//@types.20/@messages.5/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.6" port="//@types.23/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.23/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendarrived_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.23/@behaviour.0/@internal.5/@event.0" paramRef="//@types.20/@messages.6/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.7" port="//@types.23/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.23/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".senddone_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.23/@behaviour.0/@internal.6/@event.0" paramRef="//@types.20/@messages.7/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.8" port="//@types.23/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.23/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendclose_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.23/@behaviour.0/@internal.7/@event.0" paramRef="//@types.20/@messages.8/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <substate name="Init"/>
    </behaviour>
    <functions name="onInitCom_via_out">
      <annotations name="implements" value="true"/>
      <parameters type="//@types.11" name="id"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.0" port="//@types.23/@ports.1">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.0/@parameters.0"/>
        </actions>
      </body>
    </functions>
    <functions name="onCrisisDetails_via_out">
      <annotations name="implements" value="true"/>
      <parameters type="//@types.11" name="id"/>
      <parameters type="//@types.9" name="lat"/>
      <parameters type="//@types.9" name="lon"/>
      <parameters type="//@types.7" name="time"/>
      <parameters type="//@types.1" name="isActive"/>
      <parameters type="//@types.11" name="desc"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.1" port="//@types.23/@ports.1">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.1/@parameters.0"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.1/@parameters.1"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.1/@parameters.2"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.1/@parameters.3"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.1/@parameters.4"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.1/@parameters.5"/>
        </actions>
      </body>
    </functions>
    <functions name="onNumberOfTrucks_via_out">
      <annotations name="implements" value="true"/>
      <parameters type="//@types.7" name="number"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.2" port="//@types.23/@ports.1">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.2/@parameters.0"/>
        </actions>
      </body>
    </functions>
    <functions name="onRoute_via_out">
      <annotations name="implements" value="true"/>
      <parameters type="//@types.11" name="crisisID"/>
      <parameters type="//@types.7" name="pVehicles"/>
      <parameters type="//@types.7" name="fVehicles"/>
      <parameters type="//@types.11" name="path"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.3" port="//@types.23/@ports.1">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.3/@parameters.0"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.3/@parameters.1"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.3/@parameters.2"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.23/@functions.3/@parameters.3"/>
        </actions>
      </body>
    </functions>
    <functions name="onDispatched_via_out">
      <annotations name="implements" value="true"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.5" port="//@types.23/@ports.1"/>
      </body>
    </functions>
    <functions name="onArrived_via_out">
      <annotations name="implements" value="true"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.6" port="//@types.23/@ports.1"/>
      </body>
    </functions>
    <functions name="onDone_via_out">
      <annotations name="implements" value="true"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.7" port="//@types.23/@ports.1"/>
      </body>
    </functions>
    <functions name="onClose_via_out">
      <annotations name="implements" value="true"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.8" port="//@types.23/@ports.1"/>
      </body>
    </functions>
  </types>
  <types xsi:type="thingml:Thing" name="PSC" includes="//@types.14 //@types.21">
    <properties type="//@types.11" name="fscID"/>
    <properties type="//@types.7" name="numberFireTrucks"/>
    <properties type="//@types.7" name="numberPolicsTrucks"/>
    <ports xsi:type="thingml:RequiredPort" name="control" sends="//@types.20/@messages.0 //@types.20/@messages.1 //@types.20/@messages.2 //@types.20/@messages.3 //@types.20/@messages.5 //@types.20/@messages.6 //@types.20/@messages.7 //@types.20/@messages.8"/>
    <ports xsi:type="thingml:ProvidedPort" name="feedback" receives="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.3 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
    <behaviour name="behavior" initial="//@types.24/@behaviour.0/@substate.0">
      <entry xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.1" port="//@types.24/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.2" port="//@types.24/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.3" port="//@types.24/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.5" port="//@types.24/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.6" port="//@types.24/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.7" port="//@types.24/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.8" port="//@types.24/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
      </entry>
      <substate name="Wait4Com" incoming="//@types.24/@behaviour.0/@substate.8/@outgoing.0">
        <outgoing target="//@types.24/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.0" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.0" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.0" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4CrisisDetails" incoming="//@types.24/@behaviour.0/@substate.0/@outgoing.0">
        <outgoing target="//@types.24/@behaviour.0/@substate.2">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.1" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.1" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.1" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4NumberOfTrucks" incoming="//@types.24/@behaviour.0/@substate.1/@outgoing.0">
        <outgoing target="//@types.24/@behaviour.0/@substate.3">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.2" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.2" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.2" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="ProposeRoute" incoming="//@types.24/@behaviour.0/@substate.2/@outgoing.0">
        <outgoing target="//@types.24/@behaviour.0/@substate.4">
          <event xsi:type="thingml:ReceiveMessage" name="r" message="//@types.13/@messages.3" port="//@types.24/@ports.1"/>
          <action xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.3" port="//@types.14/@ports.0">
              <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@substate.3/@outgoing.0/@event.0" paramRef="//@types.13/@messages.3/@parameters.0"/>
              <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@substate.3/@outgoing.0/@event.0" paramRef="//@types.13/@messages.3/@parameters.1"/>
              <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@substate.3/@outgoing.0/@event.0" paramRef="//@types.13/@messages.3/@parameters.2"/>
              <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@substate.3/@outgoing.0/@event.0" paramRef="//@types.13/@messages.3/@parameters.3"/>
            </actions>
          </action>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.3" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.3" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="WaitAckRoute" incoming="//@types.24/@behaviour.0/@substate.3/@outgoing.0">
        <outgoing target="//@types.24/@behaviour.0/@substate.5">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.4" port="//@types.14/@ports.1"/>
        </outgoing>
      </substate>
      <substate name="Wait4Dispatch" incoming="//@types.24/@behaviour.0/@substate.4/@outgoing.0">
        <outgoing target="//@types.24/@behaviour.0/@substate.6">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.3" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.5" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.5" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4Arrival" incoming="//@types.24/@behaviour.0/@substate.5/@outgoing.0">
        <outgoing target="//@types.24/@behaviour.0/@substate.7">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.4" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.6" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.6" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4Completion" incoming="//@types.24/@behaviour.0/@substate.6/@outgoing.0">
        <outgoing target="//@types.24/@behaviour.0/@substate.8">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.5" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.7" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.7" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4Close" incoming="//@types.24/@behaviour.0/@substate.7/@outgoing.0">
        <outgoing target="//@types.24/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.6" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.8" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.8" port="//@types.24/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <region name="CEP" initial="//@types.24/@behaviour.0/@region.0/@substate.0">
        <substate name="Wait4Com" incoming="//@types.24/@behaviour.0/@region.0/@substate.6/@outgoing.0">
          <outgoing target="//@types.24/@behaviour.0/@region.0/@substate.1">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.0/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.0/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.0" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.0/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.0/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" name="ic" message="//@types.13/@messages.0" port="//@types.24/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.0/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.0" port="//@types.14/@ports.0">
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@region.0/@substate.0/@internal.0/@event.0" paramRef="//@types.13/@messages.0/@parameters.0"/>
              </actions>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" name="com" message="//@types.13/@messages.0" port="//@types.14/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.0/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@properties.0">
                <expression xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@region.0/@substate.0/@internal.1/@event.0" paramRef="//@types.13/@messages.0/@parameters.0"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4CrisisDetails" incoming="//@types.24/@behaviour.0/@region.0/@substate.0/@outgoing.0">
          <outgoing target="//@types.24/@behaviour.0/@region.0/@substate.2">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.1/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.1/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.1" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.1/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.1/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" name="cd" message="//@types.13/@messages.1" port="//@types.24/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.1/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.1" port="//@types.14/@ports.0">
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.0"/>
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.1"/>
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.2"/>
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.3"/>
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.4"/>
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.5"/>
              </actions>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.1" port="//@types.14/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.1/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4NumberOfTrucks" incoming="//@types.24/@behaviour.0/@region.0/@substate.1/@outgoing.0">
          <outgoing target="//@types.24/@behaviour.0/@region.0/@substate.3">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.2/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.2/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.2" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.2/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.2/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" name="nt" message="//@types.13/@messages.2" port="//@types.24/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.2/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.2" port="//@types.14/@ports.0">
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.24/@behaviour.0/@region.0/@substate.2/@internal.0/@event.0" paramRef="//@types.13/@messages.2/@parameters.0"/>
              </actions>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.2" port="//@types.14/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.2/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4Dispatch" incoming="//@types.24/@behaviour.0/@region.0/@substate.2/@outgoing.0">
          <outgoing target="//@types.24/@behaviour.0/@region.0/@substate.4">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.3/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.3/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.3" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.3/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.3/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.5" port="//@types.24/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.3/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.5" port="//@types.14/@ports.0"/>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.5" port="//@types.14/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.3/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4Arrival" incoming="//@types.24/@behaviour.0/@region.0/@substate.3/@outgoing.0">
          <outgoing target="//@types.24/@behaviour.0/@region.0/@substate.5">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.4/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.4/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.4" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.4/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.4/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.6" port="//@types.24/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.4/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.6" port="//@types.14/@ports.0"/>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.6" port="//@types.14/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.4/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4Completion" incoming="//@types.24/@behaviour.0/@region.0/@substate.4/@outgoing.0">
          <outgoing target="//@types.24/@behaviour.0/@region.0/@substate.6">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.5/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.5/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.5" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.5/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.5/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.7" port="//@types.24/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.5/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.7" port="//@types.14/@ports.0"/>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.7" port="//@types.14/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.5/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4Close" incoming="//@types.24/@behaviour.0/@region.0/@substate.5/@outgoing.0">
          <outgoing target="//@types.24/@behaviour.0/@region.0/@substate.0">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.6/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.24/@behaviour.0/@region.0/@substate.6/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.6" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.6/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.6/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.8" port="//@types.24/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.6/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.8" port="//@types.14/@ports.0"/>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.8" port="//@types.14/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.24/@behaviour.0/@region.0/@substate.6/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
      </region>
    </behaviour>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="FSC_GUI">
    <annotations name="java_type" value="org.thingml.generated.FSC_MockMock"/>
  </types>
  <types xsi:type="thingml:Thing" name="FSC_GUI" includes="//@types.20 //@types.13">
    <annotations name="java_interface" value="org.thingml.generated.FSC_MockListener"/>
    <properties type="//@types.25" name="gui" changeable="false">
      <init xsi:type="thingml:ExternExpression" expression="new org.thingml.generated.FSC_MockMock()"/>
    </properties>
    <ports xsi:type="thingml:ProvidedPort" name="control" receives="//@types.20/@messages.0 //@types.20/@messages.1 //@types.20/@messages.2 //@types.20/@messages.4 //@types.20/@messages.5 //@types.20/@messages.6 //@types.20/@messages.7 //@types.20/@messages.8"/>
    <ports xsi:type="thingml:RequiredPort" name="out" sends="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.4 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
    <behaviour name="behavior" initial="//@types.26/@behaviour.0/@substate.0">
      <entry xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.26/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".listeners.add(root.asInstanceOf[org.thingml.generated.FSC_MockListener]);"/>
        </actions>
      </entry>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.0" port="//@types.26/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.26/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendinitCom_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.26/@behaviour.0/@internal.0/@event.0" paramRef="//@types.20/@messages.0/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.1" port="//@types.26/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.26/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendcrisisDetails_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.26/@behaviour.0/@internal.1/@event.0" paramRef="//@types.20/@messages.1/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.2" port="//@types.26/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.26/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendnumberOfTrucks_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.26/@behaviour.0/@internal.2/@event.0" paramRef="//@types.20/@messages.2/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.4" port="//@types.26/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.26/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendackRoute_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.26/@behaviour.0/@internal.3/@event.0" paramRef="//@types.20/@messages.4/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.5" port="//@types.26/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.26/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".senddispatched_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.26/@behaviour.0/@internal.4/@event.0" paramRef="//@types.20/@messages.5/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.6" port="//@types.26/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.26/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendarrived_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.26/@behaviour.0/@internal.5/@event.0" paramRef="//@types.20/@messages.6/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.7" port="//@types.26/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.26/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".senddone_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.26/@behaviour.0/@internal.6/@event.0" paramRef="//@types.20/@messages.7/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="c" message="//@types.20/@messages.8" port="//@types.26/@ports.0"/>
        <action xsi:type="thingml:ExternStatement" statement="">
          <segments xsi:type="thingml:PropertyReference" property="//@types.26/@properties.0"/>
          <segments xsi:type="thingml:ExternExpression" expression=".sendclose_via_out.setEnabled(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.26/@behaviour.0/@internal.7/@event.0" paramRef="//@types.20/@messages.8/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </segments>
        </action>
      </internal>
      <substate name="Init"/>
    </behaviour>
    <functions name="onInitCom_via_out">
      <annotations name="implements" value="true"/>
      <parameters type="//@types.11" name="id"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.0" port="//@types.26/@ports.1">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.26/@functions.0/@parameters.0"/>
        </actions>
      </body>
    </functions>
    <functions name="onCrisisDetails_via_out">
      <annotations name="implements" value="true"/>
      <parameters type="//@types.11" name="id"/>
      <parameters type="//@types.9" name="lat"/>
      <parameters type="//@types.9" name="lon"/>
      <parameters type="//@types.7" name="time"/>
      <parameters type="//@types.1" name="isActive"/>
      <parameters type="//@types.11" name="desc"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.1" port="//@types.26/@ports.1">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.26/@functions.1/@parameters.0"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.26/@functions.1/@parameters.1"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.26/@functions.1/@parameters.2"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.26/@functions.1/@parameters.3"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.26/@functions.1/@parameters.4"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.26/@functions.1/@parameters.5"/>
        </actions>
      </body>
    </functions>
    <functions name="onNumberOfTrucks_via_out">
      <annotations name="implements" value="true"/>
      <parameters type="//@types.7" name="number"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.2" port="//@types.26/@ports.1">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.26/@functions.2/@parameters.0"/>
        </actions>
      </body>
    </functions>
    <functions name="onAckRoute_via_out">
      <annotations name="implements" value="true"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.4" port="//@types.26/@ports.1"/>
      </body>
    </functions>
    <functions name="onDispatched_via_out">
      <annotations name="implements" value="true"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.5" port="//@types.26/@ports.1"/>
      </body>
    </functions>
    <functions name="onArrived_via_out">
      <annotations name="implements" value="true"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.6" port="//@types.26/@ports.1"/>
      </body>
    </functions>
    <functions name="onDone_via_out">
      <annotations name="implements" value="true"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.7" port="//@types.26/@ports.1"/>
      </body>
    </functions>
    <functions name="onClose_via_out">
      <annotations name="implements" value="true"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.8" port="//@types.26/@ports.1"/>
      </body>
    </functions>
  </types>
  <types xsi:type="thingml:Thing" name="FSC" includes="//@types.15 //@types.21">
    <properties type="//@types.11" name="pscID"/>
    <properties type="//@types.7" name="numberFireTrucks"/>
    <properties type="//@types.7" name="numberPolicsTrucks"/>
    <ports xsi:type="thingml:RequiredPort" name="control" sends="//@types.20/@messages.0 //@types.20/@messages.1 //@types.20/@messages.2 //@types.20/@messages.4 //@types.20/@messages.5 //@types.20/@messages.6 //@types.20/@messages.7 //@types.20/@messages.8"/>
    <ports xsi:type="thingml:ProvidedPort" name="feedback" receives="//@types.13/@messages.0 //@types.13/@messages.1 //@types.13/@messages.2 //@types.13/@messages.4 //@types.13/@messages.5 //@types.13/@messages.6 //@types.13/@messages.7 //@types.13/@messages.8"/>
    <behaviour name="behavior" initial="//@types.27/@behaviour.0/@substate.0">
      <entry xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.1" port="//@types.27/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.2" port="//@types.27/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.4" port="//@types.27/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.5" port="//@types.27/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.6" port="//@types.27/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.7" port="//@types.27/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.8" port="//@types.27/@ports.0">
          <parameters xsi:type="thingml:BooleanLiteral"/>
        </actions>
      </entry>
      <substate name="Wait4Com" incoming="//@types.27/@behaviour.0/@substate.8/@outgoing.0">
        <outgoing target="//@types.27/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.0" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.0" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.0" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4CrisisDetails" incoming="//@types.27/@behaviour.0/@substate.0/@outgoing.0">
        <outgoing target="//@types.27/@behaviour.0/@substate.2">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.1" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.1" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.1" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4NumberOfTrucks" incoming="//@types.27/@behaviour.0/@substate.1/@outgoing.0">
        <outgoing target="//@types.27/@behaviour.0/@substate.3">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.2" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.2" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.2" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="WaitRoute" incoming="//@types.27/@behaviour.0/@substate.2/@outgoing.0">
        <outgoing target="//@types.27/@behaviour.0/@substate.4">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.3" port="//@types.15/@ports.1"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:PrintAction">
            <msg xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:StringLiteral" stringValue="Waiting for route..."/>
            </msg>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:PrintAction">
            <msg xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:StringLiteral" stringValue="Route received!"/>
            </msg>
          </actions>
        </exit>
      </substate>
      <substate name="AckRoute" incoming="//@types.27/@behaviour.0/@substate.3/@outgoing.0">
        <outgoing target="//@types.27/@behaviour.0/@substate.5">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.4" port="//@types.27/@ports.1"/>
          <action xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.4" port="//@types.15/@ports.0"/>
          </action>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.4" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.4" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4Dispatch" incoming="//@types.27/@behaviour.0/@substate.4/@outgoing.0">
        <outgoing target="//@types.27/@behaviour.0/@substate.6">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.3" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.5" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.5" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4Arrival" incoming="//@types.27/@behaviour.0/@substate.5/@outgoing.0">
        <outgoing target="//@types.27/@behaviour.0/@substate.7">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.4" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.6" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.6" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4Completion" incoming="//@types.27/@behaviour.0/@substate.6/@outgoing.0">
        <outgoing target="//@types.27/@behaviour.0/@substate.8">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.5" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.7" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.7" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <substate name="Wait4Close" incoming="//@types.27/@behaviour.0/@substate.7/@outgoing.0">
        <outgoing target="//@types.27/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.21/@messages.6" port="//@types.21/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.8" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral" boolValue="true"/>
          </actions>
        </entry>
        <exit xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.20/@messages.8" port="//@types.27/@ports.0">
            <parameters xsi:type="thingml:BooleanLiteral"/>
          </actions>
        </exit>
      </substate>
      <region name="CEP" initial="//@types.27/@behaviour.0/@region.0/@substate.0">
        <substate name="Wait4Com" incoming="//@types.27/@behaviour.0/@region.0/@substate.6/@outgoing.0">
          <outgoing target="//@types.27/@behaviour.0/@region.0/@substate.1">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.0/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.0/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.0" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.0/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.0/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" name="ic" message="//@types.13/@messages.0" port="//@types.27/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.0/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.0" port="//@types.15/@ports.0">
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.27/@behaviour.0/@region.0/@substate.0/@internal.0/@event.0" paramRef="//@types.13/@messages.0/@parameters.0"/>
              </actions>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" name="com" message="//@types.13/@messages.0" port="//@types.15/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.0/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@properties.0">
                <expression xsi:type="thingml:EventReference" msgRef="//@types.27/@behaviour.0/@region.0/@substate.0/@internal.1/@event.0" paramRef="//@types.13/@messages.0/@parameters.0"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4CrisisDetails" incoming="//@types.27/@behaviour.0/@region.0/@substate.0/@outgoing.0">
          <outgoing target="//@types.27/@behaviour.0/@region.0/@substate.2">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.1/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.1/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.1" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.1/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.1/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" name="cd" message="//@types.13/@messages.1" port="//@types.27/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.1/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.1" port="//@types.15/@ports.0">
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.27/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.0"/>
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.27/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.1"/>
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.27/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.2"/>
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.27/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.3"/>
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.27/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.4"/>
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.27/@behaviour.0/@region.0/@substate.1/@internal.0/@event.0" paramRef="//@types.13/@messages.1/@parameters.5"/>
              </actions>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.1" port="//@types.15/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.1/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4NumberOfTrucks" incoming="//@types.27/@behaviour.0/@region.0/@substate.1/@outgoing.0">
          <outgoing target="//@types.27/@behaviour.0/@region.0/@substate.3">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.2/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.2/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.2" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.2/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.2/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" name="nt" message="//@types.13/@messages.2" port="//@types.27/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.2/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.2" port="//@types.15/@ports.0">
                <parameters xsi:type="thingml:EventReference" msgRef="//@types.27/@behaviour.0/@region.0/@substate.2/@internal.0/@event.0" paramRef="//@types.13/@messages.2/@parameters.0"/>
              </actions>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.2" port="//@types.15/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.2/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4Dispatch" incoming="//@types.27/@behaviour.0/@region.0/@substate.2/@outgoing.0">
          <outgoing target="//@types.27/@behaviour.0/@region.0/@substate.4">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.3/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.3/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.3" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.3/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.3/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.5" port="//@types.27/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.3/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.5" port="//@types.15/@ports.0"/>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.5" port="//@types.15/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.3/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4Arrival" incoming="//@types.27/@behaviour.0/@region.0/@substate.3/@outgoing.0">
          <outgoing target="//@types.27/@behaviour.0/@region.0/@substate.5">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.4/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.4/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.4" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.4/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.4/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.6" port="//@types.27/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.4/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.6" port="//@types.15/@ports.0"/>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.6" port="//@types.15/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.4/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4Completion" incoming="//@types.27/@behaviour.0/@region.0/@substate.4/@outgoing.0">
          <outgoing target="//@types.27/@behaviour.0/@region.0/@substate.6">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.5/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.5/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.5" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.5/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.5/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.7" port="//@types.27/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.5/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.7" port="//@types.15/@ports.0"/>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.7" port="//@types.15/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.5/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
        <substate name="Wait4Close" incoming="//@types.27/@behaviour.0/@region.0/@substate.5/@outgoing.0">
          <outgoing target="//@types.27/@behaviour.0/@region.0/@substate.0">
            <guard xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.6/@properties.0"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.27/@behaviour.0/@region.0/@substate.6/@properties.1"/>
              </exp>
            </guard>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.21/@messages.6" port="//@types.21/@ports.1"/>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.6/@properties.0">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.6/@properties.1">
              <expression xsi:type="thingml:BooleanLiteral"/>
            </actions>
          </entry>
          <properties type="//@types.1" name="gui"/>
          <properties type="//@types.1" name="fire"/>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.8" port="//@types.27/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.6/@properties.0">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.13/@messages.8" port="//@types.15/@ports.0"/>
            </action>
          </internal>
          <internal>
            <event xsi:type="thingml:ReceiveMessage" message="//@types.13/@messages.8" port="//@types.15/@ports.1"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:VariableAssignment" property="//@types.27/@behaviour.0/@region.0/@substate.6/@properties.1">
                <expression xsi:type="thingml:BooleanLiteral" boolValue="true"/>
              </actions>
            </action>
          </internal>
        </substate>
      </region>
    </behaviour>
  </types>
  <configs name="agreeOnScenario">
    <instances name="psc" type="//@types.18"/>
    <instances name="fsc" type="//@types.17"/>
    <instances name="bcms" type="//@types.19"/>
    <connectors required="//@types.14/@ports.0" provided="//@types.16/@ports.0">
      <srv instance="//@configs.0/@instances.2"/>
      <cli instance="//@configs.0/@instances.0"/>
    </connectors>
    <connectors required="//@types.16/@ports.1" provided="//@types.14/@ports.1">
      <srv instance="//@configs.0/@instances.0"/>
      <cli instance="//@configs.0/@instances.2"/>
    </connectors>
    <connectors required="//@types.15/@ports.0" provided="//@types.16/@ports.2">
      <srv instance="//@configs.0/@instances.2"/>
      <cli instance="//@configs.0/@instances.1"/>
    </connectors>
    <connectors required="//@types.16/@ports.3" provided="//@types.15/@ports.1">
      <srv instance="//@configs.0/@instances.1"/>
      <cli instance="//@configs.0/@instances.2"/>
    </connectors>
  </configs>
  <configs name="testPSC">
    <instances name="psc_gui" type="//@types.23"/>
    <instances name="psc" type="//@types.24"/>
    <instances name="bcms" type="//@types.19"/>
    <connectors required="//@types.23/@ports.1" provided="//@types.24/@ports.1">
      <srv instance="//@configs.1/@instances.1"/>
      <cli instance="//@configs.1/@instances.0"/>
    </connectors>
    <connectors required="//@types.24/@ports.0" provided="//@types.23/@ports.0">
      <srv instance="//@configs.1/@instances.0"/>
      <cli instance="//@configs.1/@instances.1"/>
    </connectors>
    <connectors required="//@types.14/@ports.0" provided="//@types.16/@ports.0">
      <srv instance="//@configs.1/@instances.2"/>
      <cli instance="//@configs.1/@instances.1"/>
    </connectors>
    <connectors required="//@types.21/@ports.1" provided="//@types.21/@ports.0">
      <srv instance="//@configs.1/@instances.1"/>
      <cli instance="//@configs.1/@instances.1"/>
    </connectors>
    <connectors required="//@types.16/@ports.1" provided="//@types.14/@ports.1">
      <srv instance="//@configs.1/@instances.1"/>
      <cli instance="//@configs.1/@instances.2"/>
    </connectors>
  </configs>
  <configs name="testFSC">
    <instances name="fsc_gui" type="//@types.26"/>
    <instances name="fsc" type="//@types.27"/>
    <instances name="bcms" type="//@types.19"/>
    <connectors required="//@types.26/@ports.1" provided="//@types.27/@ports.1">
      <srv instance="//@configs.2/@instances.1"/>
      <cli instance="//@configs.2/@instances.0"/>
    </connectors>
    <connectors required="//@types.27/@ports.0" provided="//@types.26/@ports.0">
      <srv instance="//@configs.2/@instances.0"/>
      <cli instance="//@configs.2/@instances.1"/>
    </connectors>
    <connectors required="//@types.15/@ports.0" provided="//@types.16/@ports.2">
      <srv instance="//@configs.2/@instances.2"/>
      <cli instance="//@configs.2/@instances.1"/>
    </connectors>
    <connectors required="//@types.21/@ports.1" provided="//@types.21/@ports.0">
      <srv instance="//@configs.2/@instances.1"/>
      <cli instance="//@configs.2/@instances.1"/>
    </connectors>
    <connectors required="//@types.16/@ports.3" provided="//@types.15/@ports.1">
      <srv instance="//@configs.2/@instances.1"/>
      <cli instance="//@configs.2/@instances.2"/>
    </connectors>
  </configs>
  <configs name="bCMS">
    <instances name="fsc_gui" type="//@types.26"/>
    <instances name="fsc" type="//@types.27"/>
    <instances name="psc_gui" type="//@types.23"/>
    <instances name="psc" type="//@types.24"/>
    <connectors required="//@types.26/@ports.1" provided="//@types.27/@ports.1">
      <srv instance="//@configs.3/@instances.1"/>
      <cli instance="//@configs.3/@instances.0"/>
    </connectors>
    <connectors required="//@types.27/@ports.0" provided="//@types.26/@ports.0">
      <srv instance="//@configs.3/@instances.0"/>
      <cli instance="//@configs.3/@instances.1"/>
    </connectors>
    <connectors required="//@types.21/@ports.1" provided="//@types.21/@ports.0">
      <srv instance="//@configs.3/@instances.1"/>
      <cli instance="//@configs.3/@instances.1"/>
    </connectors>
    <connectors required="//@types.23/@ports.1" provided="//@types.24/@ports.1">
      <srv instance="//@configs.3/@instances.3"/>
      <cli instance="//@configs.3/@instances.2"/>
    </connectors>
    <connectors required="//@types.24/@ports.0" provided="//@types.23/@ports.0">
      <srv instance="//@configs.3/@instances.2"/>
      <cli instance="//@configs.3/@instances.3"/>
    </connectors>
    <connectors required="//@types.21/@ports.1" provided="//@types.21/@ports.0">
      <srv instance="//@configs.3/@instances.3"/>
      <cli instance="//@configs.3/@instances.3"/>
    </connectors>
    <connectors required="//@types.15/@ports.0" provided="//@types.14/@ports.1">
      <srv instance="//@configs.3/@instances.3"/>
      <cli instance="//@configs.3/@instances.1"/>
    </connectors>
    <connectors required="//@types.14/@ports.0" provided="//@types.15/@ports.1">
      <srv instance="//@configs.3/@instances.1"/>
      <cli instance="//@configs.3/@instances.3"/>
    </connectors>
  </configs>
</thingml:ThingMLModel>
