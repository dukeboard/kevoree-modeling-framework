<?xml version="1.0" encoding="ASCII"?>
<thingml:ThingMLModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:thingml="http://thingml">
  <types xsi:type="thingml:Thing" name="DigitalOutputMsgs" fragment="true">
    <messages name="set_digital_output">
      <parameters type="//@types.54" name="value"/>
    </messages>
  </types>
  <types xsi:type="thingml:Thing" name="DigitalOutput" includes="//@types.0">
    <ports xsi:type="thingml:ProvidedPort" name="DigitalOutput" receives="//@types.0/@messages.0"/>
  </types>
  <types xsi:type="thingml:Thing" name="LedMsgs" fragment="true">
    <messages name="led_on"/>
    <messages name="led_off"/>
    <messages name="led_toggle"/>
  </types>
  <types xsi:type="thingml:Thing" name="LedClient" fragment="true" includes="//@types.2">
    <ports xsi:type="thingml:RequiredPort" name="Led" sends="//@types.2/@messages.0 //@types.2/@messages.1 //@types.2/@messages.2">
      <annotations name="sync_send" value="true"/>
    </ports>
  </types>
  <types xsi:type="thingml:Thing" name="Led" fragment="true" includes="//@types.2">
    <ports xsi:type="thingml:ProvidedPort" name="Led" receives="//@types.2/@messages.0 //@types.2/@messages.1 //@types.2/@messages.2"/>
  </types>
  <types xsi:type="thingml:Thing" name="LedUC" includes="//@types.4 //@types.0">
    <ports xsi:type="thingml:RequiredPort" name="DigitalOutput" sends="//@types.0/@messages.0"/>
    <behaviour name="LedImpl" initial="//@types.5/@behaviour.0/@substate.0">
      <substate name="LedOff" incoming="//@types.5/@behaviour.0/@substate.1/@outgoing.0">
        <outgoing name="switch_on" target="//@types.5/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.2/@messages.0" port="//@types.4/@ports.0"/>
          <event xsi:type="thingml:ReceiveMessage" message="//@types.2/@messages.2" port="//@types.4/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:SendAction" message="//@types.0/@messages.0" port="//@types.5/@ports.0">
          <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.0"/>
        </entry>
      </substate>
      <substate name="LedOn" incoming="//@types.5/@behaviour.0/@substate.0/@outgoing.0">
        <outgoing name="switch_off" target="//@types.5/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.2/@messages.1" port="//@types.4/@ports.0"/>
          <event xsi:type="thingml:ReceiveMessage" message="//@types.2/@messages.2" port="//@types.4/@ports.0"/>
        </outgoing>
        <entry xsi:type="thingml:SendAction" message="//@types.0/@messages.0" port="//@types.5/@ports.0">
          <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.1"/>
        </entry>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingml:Thing" name="AnalogInputMsgs" fragment="true">
    <messages name="read_analog_input"/>
    <messages name="analog_input_value">
      <parameters type="//@types.48" name="value"/>
    </messages>
  </types>
  <types xsi:type="thingml:Thing" name="AnalogInput" fragment="true" includes="//@types.6">
    <ports xsi:type="thingml:ProvidedPort" name="AnalogInput" receives="//@types.6/@messages.0" sends="//@types.6/@messages.1"/>
  </types>
  <types xsi:type="thingml:Thing" name="PeriodicAnalogInput" includes="//@types.6 //@types.22">
    <properties type="//@types.49" name="refresh_rate" changeable="false">
      <init xsi:type="thingml:IntegerLiteral" intValue="5000"/>
    </properties>
    <ports xsi:type="thingml:ProvidedPort" name="PeriodicAnalogInput" sends="//@types.6/@messages.1"/>
    <ports xsi:type="thingml:RequiredPort" name="Timer" receives="//@types.22/@messages.2" sends="//@types.22/@messages.0"/>
    <ports xsi:type="thingml:RequiredPort" name="AnalogInput" receives="//@types.6/@messages.1" sends="//@types.6/@messages.0"/>
    <behaviour name="PeriodicAnalogInputImpl" initial="//@types.8/@behaviour.0/@substate.0">
      <substate name="Running" incoming="//@types.8/@behaviour.0/@substate.1/@outgoing.0">
        <outgoing name="wait" target="//@types.8/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.22/@messages.2" port="//@types.8/@ports.1"/>
          <action xsi:type="thingml:SendAction" message="//@types.6/@messages.0" port="//@types.8/@ports.2"/>
        </outgoing>
        <entry xsi:type="thingml:SendAction" message="//@types.22/@messages.0" port="//@types.8/@ports.1">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.8/@properties.0"/>
        </entry>
      </substate>
      <substate name="Waiting" incoming="//@types.8/@behaviour.0/@substate.0/@outgoing.0">
        <outgoing name="got" target="//@types.8/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.6/@messages.1" port="//@types.8/@ports.2"/>
          <action xsi:type="thingml:SendAction" message="//@types.6/@messages.1" port="//@types.8/@ports.0">
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.8/@behaviour.0/@substate.1/@outgoing.0/@event.0" paramRef="//@types.6/@messages.1/@parameters.0"/>
          </action>
        </outgoing>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingml:Thing" name="OnChangeAnalogInput" includes="//@types.6 //@types.22">
    <properties type="//@types.45" name="refresh_rate" changeable="false">
      <init xsi:type="thingml:IntegerLiteral" intValue="20"/>
    </properties>
    <ports xsi:type="thingml:ProvidedPort" name="OnChangeAnalogInput" sends="//@types.6/@messages.1"/>
    <ports xsi:type="thingml:RequiredPort" name="Timer" receives="//@types.22/@messages.2" sends="//@types.22/@messages.0"/>
    <ports xsi:type="thingml:RequiredPort" name="AnalogInput" receives="//@types.6/@messages.1" sends="//@types.6/@messages.0"/>
    <behaviour name="OnChangeAnalogInputImpl" initial="//@types.9/@behaviour.0/@substate.0">
      <properties type="//@types.48" name="oldValue">
        <init xsi:type="thingml:UnaryMinus">
          <term xsi:type="thingml:IntegerLiteral" intValue="1"/>
        </init>
      </properties>
      <substate name="Running" incoming="//@types.9/@behaviour.0/@substate.1/@outgoing.0">
        <outgoing name="wait" target="//@types.9/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.22/@messages.2" port="//@types.9/@ports.1"/>
          <action xsi:type="thingml:SendAction" message="//@types.6/@messages.0" port="//@types.9/@ports.2"/>
        </outgoing>
        <entry xsi:type="thingml:SendAction" message="//@types.22/@messages.0" port="//@types.9/@ports.1">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.9/@properties.0"/>
        </entry>
      </substate>
      <substate name="Waiting" incoming="//@types.9/@behaviour.0/@substate.0/@outgoing.0">
        <outgoing target="//@types.9/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.6/@messages.1" port="//@types.9/@ports.2"/>
          <action xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:ConditionalAction">
              <action xsi:type="thingml:ActionBlock">
                <actions xsi:type="thingml:SendAction" message="//@types.6/@messages.1" port="//@types.9/@ports.0">
                  <parameters xsi:type="thingml:EventReference" msgRef="//@types.9/@behaviour.0/@substate.1/@outgoing.0/@event.0" paramRef="//@types.6/@messages.1/@parameters.0"/>
                </actions>
                <actions xsi:type="thingml:VariableAssignment" property="//@types.9/@behaviour.0/@properties.0">
                  <expression xsi:type="thingml:EventReference" msgRef="//@types.9/@behaviour.0/@substate.1/@outgoing.0/@event.0" paramRef="//@types.6/@messages.1/@parameters.0"/>
                </actions>
              </action>
              <condition xsi:type="thingml:NotExpression">
                <term xsi:type="thingml:ExpressionGroup">
                  <exp xsi:type="thingml:EqualsExpression">
                    <lhs xsi:type="thingml:EventReference" msgRef="//@types.9/@behaviour.0/@substate.1/@outgoing.0/@event.0" paramRef="//@types.6/@messages.1/@parameters.0"/>
                    <rhs xsi:type="thingml:PropertyReference" property="//@types.9/@behaviour.0/@properties.0"/>
                  </exp>
                </term>
              </condition>
            </actions>
          </action>
        </outgoing>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingml:Enumeration" name="PinMode">
    <annotations name="java_type" value="byte"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="INPUT">
      <annotations name="enum_val" value="0"/>
    </literals>
    <literals name="OUTPUT">
      <annotations name="enum_val" value="1"/>
    </literals>
  </types>
  <types xsi:type="thingml:Enumeration" name="DigitalPin">
    <annotations name="java_type" value="byte"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="PIN_0">
      <annotations name="enum_val" value="0"/>
    </literals>
    <literals name="PIN_1">
      <annotations name="enum_val" value="1"/>
    </literals>
    <literals name="PIN_2">
      <annotations name="enum_val" value="2"/>
    </literals>
    <literals name="PIN_3">
      <annotations name="enum_val" value="3"/>
    </literals>
    <literals name="PIN_4">
      <annotations name="enum_val" value="4"/>
    </literals>
    <literals name="PIN_5">
      <annotations name="enum_val" value="5"/>
    </literals>
    <literals name="PIN_6">
      <annotations name="enum_val" value="6"/>
    </literals>
    <literals name="PIN_7">
      <annotations name="enum_val" value="7"/>
    </literals>
    <literals name="PIN_8">
      <annotations name="enum_val" value="8"/>
    </literals>
    <literals name="PIN_9">
      <annotations name="enum_val" value="9"/>
    </literals>
    <literals name="PIN_10">
      <annotations name="enum_val" value="10"/>
    </literals>
    <literals name="PIN_11">
      <annotations name="enum_val" value="11"/>
    </literals>
    <literals name="PIN_12">
      <annotations name="enum_val" value="12"/>
    </literals>
    <literals name="PIN_13">
      <annotations name="enum_val" value="13"/>
    </literals>
    <literals name="A_0">
      <annotations name="enum_val" value="14"/>
    </literals>
    <literals name="A_1">
      <annotations name="enum_val" value="15"/>
    </literals>
    <literals name="A_2">
      <annotations name="enum_val" value="16"/>
    </literals>
    <literals name="A_3">
      <annotations name="enum_val" value="17"/>
    </literals>
    <literals name="A_4">
      <annotations name="enum_val" value="18"/>
    </literals>
    <literals name="A_5">
      <annotations name="enum_val" value="19"/>
    </literals>
  </types>
  <types xsi:type="thingml:Enumeration" name="PWMPin">
    <annotations name="java_type" value="byte"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="PWM_PIN_3">
      <annotations name="enum_val" value="3"/>
    </literals>
    <literals name="PWM_PIN_5">
      <annotations name="enum_val" value="5"/>
    </literals>
    <literals name="PWM_PIN_6">
      <annotations name="enum_val" value="6"/>
    </literals>
    <literals name="PWM_PIN_9">
      <annotations name="enum_val" value="9"/>
    </literals>
    <literals name="PWM_PIN_10">
      <annotations name="enum_val" value="10"/>
    </literals>
    <literals name="PWM_PIN_11">
      <annotations name="enum_val" value="11"/>
    </literals>
  </types>
  <types xsi:type="thingml:Enumeration" name="AnalogPin">
    <annotations name="java_type" value="byte"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="A_0">
      <annotations name="enum_val" value="14"/>
    </literals>
    <literals name="A_1">
      <annotations name="enum_val" value="15"/>
    </literals>
    <literals name="A_2">
      <annotations name="enum_val" value="16"/>
    </literals>
    <literals name="A_3">
      <annotations name="enum_val" value="17"/>
    </literals>
    <literals name="A_4">
      <annotations name="enum_val" value="18"/>
    </literals>
    <literals name="A_5">
      <annotations name="enum_val" value="19"/>
    </literals>
  </types>
  <types xsi:type="thingml:Enumeration" name="AnalogReference">
    <annotations name="java_type" value="byte"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="DEFAULT">
      <annotations name="enum_val" value="1"/>
    </literals>
    <literals name="INTERNAL">
      <annotations name="enum_val" value="3"/>
    </literals>
    <literals name="EXTERNAL">
      <annotations name="enum_val" value="0"/>
    </literals>
  </types>
  <types xsi:type="thingml:Enumeration" name="InterruptPin">
    <annotations name="java_type" value="byte"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="PIN_2_INT0">
      <annotations name="enum_val" value="0"/>
    </literals>
    <literals name="PIN_3_INT1">
      <annotations name="enum_val" value="1"/>
    </literals>
  </types>
  <types xsi:type="thingml:Enumeration" name="InterruptTrigger">
    <annotations name="java_type" value="byte"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="CHANGE">
      <annotations name="enum_val" value="1"/>
    </literals>
    <literals name="RISING">
      <annotations name="enum_val" value="3"/>
    </literals>
    <literals name="FALLING">
      <annotations name="enum_val" value="2"/>
    </literals>
    <literals name="LOW">
      <annotations name="enum_val" value="0"/>
    </literals>
  </types>
  <types xsi:type="thingml:Thing" name="ArduinoMsgs" fragment="true">
    <annotations name="c_header" value="#include &lt;EEPROM.h>"/>
    <messages name="pin_mode">
      <annotations name="code" value="2"/>
      <parameters type="//@types.11" name="pin"/>
      <parameters type="//@types.10" name="mode"/>
    </messages>
    <messages name="digital_write">
      <annotations name="code" value="3"/>
      <parameters type="//@types.11" name="pin"/>
      <parameters type="//@types.54" name="value"/>
    </messages>
    <messages name="digital_read">
      <annotations name="code" value="4"/>
      <annotations name="sync_response" value="digitalReadResult#value"/>
      <annotations name="timeout" value="500"/>
      <annotations name="retry" value="0"/>
      <parameters type="//@types.11" name="pin"/>
    </messages>
    <messages name="digital_read_result">
      <annotations name="code" value="5"/>
      <parameters type="//@types.11" name="pin"/>
      <parameters type="//@types.54" name="value"/>
    </messages>
    <messages name="analog_reference">
      <annotations name="code" value="6"/>
      <parameters type="//@types.14" name="type"/>
    </messages>
    <messages name="analog_read">
      <annotations name="code" value="7"/>
      <annotations name="sync_response" value="analogReadResult#value"/>
      <annotations name="timeout" value="500"/>
      <annotations name="retry" value="0"/>
      <parameters type="//@types.13" name="pin"/>
    </messages>
    <messages name="analog_read_result">
      <annotations name="code" value="8"/>
      <parameters type="//@types.13" name="pin"/>
      <parameters type="//@types.48" name="value"/>
    </messages>
    <messages name="analog_write">
      <annotations name="code" value="9"/>
      <parameters type="//@types.12" name="pin"/>
      <parameters type="//@types.45" name="value"/>
    </messages>
    <messages name="tone">
      <annotations name="code" value="10"/>
      <parameters type="//@types.11" name="pin"/>
      <parameters type="//@types.48" name="frequency"/>
      <parameters type="//@types.48" name="duration"/>
    </messages>
    <messages name="no_tone">
      <annotations name="code" value="11"/>
      <parameters type="//@types.11" name="pin"/>
    </messages>
    <messages name="ping">
      <annotations name="code" value="66"/>
      <annotations name="sync_ack" value="pong"/>
      <annotations name="timeout" value="1000"/>
      <annotations name="retry" value="3"/>
    </messages>
    <messages name="pong">
      <annotations name="code" value="67"/>
    </messages>
    <messages name="attach_interrupt">
      <annotations name="code" value="21"/>
      <parameters type="//@types.15" name="interrupt"/>
      <parameters type="//@types.16" name="mode"/>
    </messages>
    <messages name="detach_interrupt">
      <annotations name="code" value="22"/>
      <parameters type="//@types.15" name="interrupt"/>
    </messages>
    <messages name="interrupt_notification">
      <annotations name="code" value="23"/>
      <parameters type="//@types.15" name="interrupt"/>
    </messages>
    <messages name="eeprom_read">
      <annotations name="code" value="31"/>
      <annotations name="sync_response" value="eeprom_value#value"/>
      <annotations name="timeout" value="500"/>
      <annotations name="retry" value="0"/>
      <parameters type="//@types.48" name="address"/>
    </messages>
    <messages name="eeprom_value">
      <annotations name="code" value="32"/>
      <parameters type="//@types.46" name="value"/>
    </messages>
    <messages name="eeprom_write">
      <annotations name="code" value="33"/>
      <parameters type="//@types.48" name="address"/>
      <parameters type="//@types.46" name="value"/>
    </messages>
    <messages name="eeprom_sync_write">
      <annotations name="code" value="34"/>
      <annotations name="sync_ack" value="eeprom_write_ack"/>
      <annotations name="timeout" value="500"/>
      <annotations name="retry" value="0"/>
      <parameters type="//@types.48" name="address"/>
      <parameters type="//@types.46" name="value"/>
    </messages>
    <messages name="eeprom_write_ack">
      <annotations name="code" value="35"/>
    </messages>
  </types>
  <types xsi:type="thingml:Thing" name="Arduino" includes="//@types.17">
    <ports xsi:type="thingml:ProvidedPort" name="DigitalIO" receives="//@types.17/@messages.0 //@types.17/@messages.2 //@types.17/@messages.1" sends="//@types.17/@messages.3"/>
    <ports xsi:type="thingml:ProvidedPort" name="AnalogIO" receives="//@types.17/@messages.4 //@types.17/@messages.5 //@types.17/@messages.7" sends="//@types.17/@messages.6"/>
    <ports xsi:type="thingml:ProvidedPort" name="AdvancedIO" receives="//@types.17/@messages.8 //@types.17/@messages.9"/>
    <ports xsi:type="thingml:ProvidedPort" name="Ping" receives="//@types.17/@messages.10" sends="//@types.17/@messages.11"/>
    <ports xsi:type="thingml:ProvidedPort" name="EEPROM" receives="//@types.17/@messages.15 //@types.17/@messages.18 //@types.17/@messages.17" sends="//@types.17/@messages.16 //@types.17/@messages.19"/>
  </types>
  <types xsi:type="thingml:Thing" name="ArduinoArduino" includes="//@types.18">
    <annotations name="pim" value="Arduino"/>
    <annotations name="platform" value="arduino"/>
    <behaviour name="ArduinoArduino" initial="//@types.19/@behaviour.0/@substate.0">
      <substate name="RunningArduino">
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.0" port="//@types.18/@ports.0"/>
          <action xsi:type="thingml:ExternStatement" statement="pinMode(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.0/@event.0" paramRef="//@types.17/@messages.0/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=", ">
              <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.0/@event.0" paramRef="//@types.17/@messages.0/@parameters.1"/>
              <segments xsi:type="thingml:ExternExpression" expression=");"/>
            </segments>
          </action>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.1" port="//@types.18/@ports.0"/>
          <action xsi:type="thingml:ExternStatement" statement="digitalWrite(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.1/@event.0" paramRef="//@types.17/@messages.1/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=", ">
              <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.1/@event.0" paramRef="//@types.17/@messages.1/@parameters.1"/>
              <segments xsi:type="thingml:ExternExpression" expression=");"/>
            </segments>
          </action>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.2" port="//@types.18/@ports.0"/>
          <action xsi:type="thingml:SendAction" message="//@types.17/@messages.3" port="//@types.18/@ports.0">
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.2/@event.0" paramRef="//@types.17/@messages.2/@parameters.0"/>
            <parameters xsi:type="thingml:ExternExpression" expression="digitalRead(">
              <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.2/@event.0" paramRef="//@types.17/@messages.2/@parameters.0"/>
              <segments xsi:type="thingml:ExternExpression" expression=")"/>
            </parameters>
          </action>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.4" port="//@types.18/@ports.1"/>
          <action xsi:type="thingml:ExternStatement" statement="analogReference(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.3/@event.0" paramRef="//@types.17/@messages.4/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </action>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.5" port="//@types.18/@ports.1"/>
          <action xsi:type="thingml:SendAction" message="//@types.17/@messages.6" port="//@types.18/@ports.1">
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.4/@event.0" paramRef="//@types.17/@messages.5/@parameters.0"/>
            <parameters xsi:type="thingml:ExternExpression" expression="analogRead(">
              <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.4/@event.0" paramRef="//@types.17/@messages.5/@parameters.0"/>
              <segments xsi:type="thingml:ExternExpression" expression=")"/>
            </parameters>
          </action>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.7" port="//@types.18/@ports.1"/>
          <action xsi:type="thingml:ExternStatement" statement="analogWrite(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.5/@event.0" paramRef="//@types.17/@messages.7/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=", ">
              <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.5/@event.0" paramRef="//@types.17/@messages.7/@parameters.1"/>
              <segments xsi:type="thingml:ExternExpression" expression=");"/>
            </segments>
          </action>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.8" port="//@types.18/@ports.2"/>
          <action xsi:type="thingml:ExternStatement" statement="tone(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.6/@event.0" paramRef="//@types.17/@messages.8/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=", ">
              <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.6/@event.0" paramRef="//@types.17/@messages.8/@parameters.1"/>
              <segments xsi:type="thingml:ExternExpression" expression=", ">
                <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.6/@event.0" paramRef="//@types.17/@messages.8/@parameters.2"/>
                <segments xsi:type="thingml:ExternExpression" expression=");"/>
              </segments>
            </segments>
          </action>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.9" port="//@types.18/@ports.2"/>
          <action xsi:type="thingml:ExternStatement" statement="noTone(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.7/@event.0" paramRef="//@types.17/@messages.9/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=");"/>
          </action>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.10" port="//@types.18/@ports.3"/>
          <action xsi:type="thingml:SendAction" message="//@types.17/@messages.11" port="//@types.18/@ports.3"/>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.15" port="//@types.18/@ports.4"/>
          <action xsi:type="thingml:SendAction" message="//@types.17/@messages.16" port="//@types.18/@ports.4">
            <parameters xsi:type="thingml:ExternExpression" expression="EEPROM.read(">
              <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.9/@event.0" paramRef="//@types.17/@messages.15/@parameters.0"/>
              <segments xsi:type="thingml:ExternExpression" expression=")"/>
            </parameters>
          </action>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.17" port="//@types.18/@ports.4"/>
          <action xsi:type="thingml:ExternStatement" statement="EEPROM.write(">
            <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.10/@event.0" paramRef="//@types.17/@messages.17/@parameters.0"/>
            <segments xsi:type="thingml:ExternExpression" expression=", ">
              <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.10/@event.0" paramRef="//@types.17/@messages.17/@parameters.1"/>
              <segments xsi:type="thingml:ExternExpression" expression=");"/>
            </segments>
          </action>
        </internal>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.18" port="//@types.18/@ports.4"/>
          <action xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:ExternStatement" statement="EEPROM.write(">
              <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.11/@event.0" paramRef="//@types.17/@messages.18/@parameters.0"/>
              <segments xsi:type="thingml:ExternExpression" expression=", ">
                <segments xsi:type="thingml:EventReference" msgRef="//@types.19/@behaviour.0/@substate.0/@internal.11/@event.0" paramRef="//@types.17/@messages.18/@parameters.1"/>
                <segments xsi:type="thingml:ExternExpression" expression=");"/>
              </segments>
            </actions>
            <actions xsi:type="thingml:SendAction" message="//@types.17/@messages.19" port="//@types.18/@ports.4"/>
          </action>
        </internal>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingml:Thing" name="ThingMLSchedulerMsg" fragment="true">
    <messages name="setup"/>
    <messages name="poll"/>
  </types>
  <types xsi:type="thingml:Thing" name="ThingMLScheduler" includes="//@types.20">
    <ports xsi:type="thingml:ProvidedPort" name="Polling" sends="//@types.20/@messages.1 //@types.20/@messages.0"/>
  </types>
  <types xsi:type="thingml:Thing" name="TimerMsgs" fragment="true">
    <messages name="timer_start">
      <parameters type="//@types.44" name="delay"/>
    </messages>
    <messages name="timer_cancel"/>
    <messages name="timer_timeout"/>
  </types>
  <types xsi:type="thingml:Thing" name="Timer" fragment="true" includes="//@types.22">
    <ports xsi:type="thingml:ProvidedPort" name="timer" receives="//@types.22/@messages.0 //@types.22/@messages.1" sends="//@types.22/@messages.2"/>
  </types>
  <types xsi:type="thingml:Thing" name="TimerClient" fragment="true" includes="//@types.22">
    <ports xsi:type="thingml:RequiredPort" name="timer" receives="//@types.22/@messages.2" sends="//@types.22/@messages.0 //@types.22/@messages.1"/>
  </types>
  <types xsi:type="thingml:Thing" name="TimerArduino" includes="//@types.23 //@types.20">
    <annotations name="pim" value="Timer"/>
    <annotations name="platform" value="arduino"/>
    <ports xsi:type="thingml:RequiredPort" name="Polling" receives="//@types.20/@messages.1"/>
    <behaviour name="SoftTimer" initial="//@types.25/@behaviour.0/@substate.0">
      <properties type="//@types.49" name="target">
        <init xsi:type="thingml:IntegerLiteral"/>
      </properties>
      <substate name="Idle" incoming="//@types.25/@behaviour.0/@substate.1/@outgoing.0 //@types.25/@behaviour.0/@substate.1/@outgoing.1">
        <outgoing name="start" target="//@types.25/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.22/@messages.0" port="//@types.23/@ports.0"/>
          <guard xsi:type="thingml:GreaterExpression">
            <lhs xsi:type="thingml:EventReference" msgRef="//@types.25/@behaviour.0/@substate.0/@outgoing.0/@event.0" paramRef="//@types.22/@messages.0/@parameters.0"/>
            <rhs xsi:type="thingml:IntegerLiteral"/>
          </guard>
          <action xsi:type="thingml:VariableAssignment" property="//@types.25/@behaviour.0/@properties.0">
            <expression xsi:type="thingml:PlusExpression">
              <lhs xsi:type="thingml:ExternExpression" expression="millis()"/>
              <rhs xsi:type="thingml:EventReference" msgRef="//@types.25/@behaviour.0/@substate.0/@outgoing.0/@event.0" paramRef="//@types.22/@messages.0/@parameters.0"/>
            </expression>
          </action>
        </outgoing>
      </substate>
      <substate name="Counting" incoming="//@types.25/@behaviour.0/@substate.0/@outgoing.0">
        <outgoing name="timeout" target="//@types.25/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.20/@messages.1" port="//@types.25/@ports.0"/>
          <guard xsi:type="thingml:NotExpression">
            <term xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:LowerExpression">
                <lhs xsi:type="thingml:ExternExpression" expression="millis()"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.25/@behaviour.0/@properties.0"/>
              </exp>
            </term>
          </guard>
          <after xsi:type="thingml:SendAction" message="//@types.22/@messages.2" port="//@types.23/@ports.0"/>
        </outgoing>
        <outgoing name="cancel" target="//@types.25/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.22/@messages.1" port="//@types.23/@ports.0"/>
        </outgoing>
        <internal name="reset">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.22/@messages.0" port="//@types.23/@ports.0"/>
          <guard xsi:type="thingml:GreaterExpression">
            <lhs xsi:type="thingml:EventReference" msgRef="//@types.25/@behaviour.0/@substate.1/@internal.0/@event.0" paramRef="//@types.22/@messages.0/@parameters.0"/>
            <rhs xsi:type="thingml:IntegerLiteral"/>
          </guard>
          <action xsi:type="thingml:VariableAssignment" property="//@types.25/@behaviour.0/@properties.0">
            <expression xsi:type="thingml:PlusExpression">
              <lhs xsi:type="thingml:ExternExpression" expression="millis()"/>
              <rhs xsi:type="thingml:EventReference" msgRef="//@types.25/@behaviour.0/@substate.1/@internal.0/@event.0" paramRef="//@types.22/@messages.0/@parameters.0"/>
            </expression>
          </action>
        </internal>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingml:Thing" name="TwoWDBaseMsg" fragment="true">
    <messages name="accelerate">
      <parameters type="//@types.45" name="v"/>
    </messages>
    <messages name="decelerate">
      <parameters type="//@types.45" name="v"/>
    </messages>
    <messages name="steer_right">
      <parameters type="//@types.45" name="v"/>
    </messages>
    <messages name="steer_left">
      <parameters type="//@types.45" name="v"/>
    </messages>
    <messages name="set_motors_speed">
      <parameters type="//@types.48" name="left"/>
      <parameters type="//@types.48" name="right"/>
    </messages>
    <messages name="stop"/>
  </types>
  <types xsi:type="thingml:Thing" name="TwoWDBase" includes="//@types.26">
    <ports xsi:type="thingml:ProvidedPort" name="TwoWDBase" receives="//@types.26/@messages.0 //@types.26/@messages.1 //@types.26/@messages.2 //@types.26/@messages.3 //@types.26/@messages.5 //@types.26/@messages.4"/>
  </types>
  <types xsi:type="thingml:Thing" name="TwoWDBaseWithHBridge" includes="//@types.27 //@types.36">
    <properties type="//@types.48" name="left_speed">
      <init xsi:type="thingml:IntegerLiteral"/>
    </properties>
    <properties type="//@types.48" name="right_speed">
      <init xsi:type="thingml:IntegerLiteral"/>
    </properties>
    <ports xsi:type="thingml:RequiredPort" name="MotorLeft" sends="//@types.36/@messages.0"/>
    <ports xsi:type="thingml:RequiredPort" name="MotorRight" sends="//@types.36/@messages.0"/>
    <behaviour name="TwoWDBase" initial="//@types.28/@behaviour.0/@substate.0">
      <entry xsi:type="thingml:FunctionCallStatement" function="//@types.28/@functions.0">
        <parameters xsi:type="thingml:IntegerLiteral"/>
        <parameters xsi:type="thingml:IntegerLiteral"/>
      </entry>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" message="//@types.26/@messages.5" port="//@types.27/@ports.0"/>
        <action xsi:type="thingml:FunctionCallStatement" function="//@types.28/@functions.0">
          <parameters xsi:type="thingml:IntegerLiteral"/>
          <parameters xsi:type="thingml:IntegerLiteral"/>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.26/@messages.0" port="//@types.27/@ports.0"/>
        <action xsi:type="thingml:FunctionCallStatement" function="//@types.28/@functions.0">
          <parameters xsi:type="thingml:PlusExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@properties.0"/>
            <rhs xsi:type="thingml:EventReference" msgRef="//@types.28/@behaviour.0/@internal.1/@event.0" paramRef="//@types.26/@messages.0/@parameters.0"/>
          </parameters>
          <parameters xsi:type="thingml:PlusExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@properties.1"/>
            <rhs xsi:type="thingml:EventReference" msgRef="//@types.28/@behaviour.0/@internal.1/@event.0" paramRef="//@types.26/@messages.0/@parameters.0"/>
          </parameters>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.26/@messages.1" port="//@types.27/@ports.0"/>
        <action xsi:type="thingml:FunctionCallStatement" function="//@types.28/@functions.0">
          <parameters xsi:type="thingml:MinusExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@properties.0"/>
            <rhs xsi:type="thingml:EventReference" msgRef="//@types.28/@behaviour.0/@internal.2/@event.0" paramRef="//@types.26/@messages.1/@parameters.0"/>
          </parameters>
          <parameters xsi:type="thingml:MinusExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@properties.1"/>
            <rhs xsi:type="thingml:EventReference" msgRef="//@types.28/@behaviour.0/@internal.2/@event.0" paramRef="//@types.26/@messages.1/@parameters.0"/>
          </parameters>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.26/@messages.3" port="//@types.27/@ports.0"/>
        <action xsi:type="thingml:FunctionCallStatement" function="//@types.28/@functions.0">
          <parameters xsi:type="thingml:MinusExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@properties.0"/>
            <rhs xsi:type="thingml:EventReference" msgRef="//@types.28/@behaviour.0/@internal.3/@event.0" paramRef="//@types.26/@messages.3/@parameters.0"/>
          </parameters>
          <parameters xsi:type="thingml:PlusExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@properties.1"/>
            <rhs xsi:type="thingml:EventReference" msgRef="//@types.28/@behaviour.0/@internal.3/@event.0" paramRef="//@types.26/@messages.3/@parameters.0"/>
          </parameters>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.26/@messages.3" port="//@types.27/@ports.0"/>
        <action xsi:type="thingml:FunctionCallStatement" function="//@types.28/@functions.0">
          <parameters xsi:type="thingml:PlusExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@properties.0"/>
            <rhs xsi:type="thingml:EventReference" msgRef="//@types.28/@behaviour.0/@internal.4/@event.0" paramRef="//@types.26/@messages.3/@parameters.0"/>
          </parameters>
          <parameters xsi:type="thingml:MinusExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@properties.1"/>
            <rhs xsi:type="thingml:EventReference" msgRef="//@types.28/@behaviour.0/@internal.4/@event.0" paramRef="//@types.26/@messages.3/@parameters.0"/>
          </parameters>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.26/@messages.4" port="//@types.27/@ports.0"/>
        <action xsi:type="thingml:FunctionCallStatement" function="//@types.28/@functions.0">
          <parameters xsi:type="thingml:EventReference" msgRef="//@types.28/@behaviour.0/@internal.5/@event.0" paramRef="//@types.26/@messages.4/@parameters.0"/>
          <parameters xsi:type="thingml:EventReference" msgRef="//@types.28/@behaviour.0/@internal.5/@event.0" paramRef="//@types.26/@messages.4/@parameters.1"/>
        </action>
      </internal>
      <substate name="Active"/>
    </behaviour>
    <functions name="set_motors">
      <parameters type="//@types.48" name="left"/>
      <parameters type="//@types.48" name="right"/>
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:ConditionalAction">
          <action xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:VariableAssignment" property="//@types.28/@properties.0">
              <expression xsi:type="thingml:PropertyReference" property="//@types.28/@functions.0/@parameters.0"/>
            </actions>
            <actions xsi:type="thingml:VariableAssignment" property="//@types.28/@properties.1">
              <expression xsi:type="thingml:PropertyReference" property="//@types.28/@functions.0/@parameters.1"/>
            </actions>
            <actions xsi:type="thingml:SendAction" message="//@types.36/@messages.0" port="//@types.28/@ports.0">
              <parameters xsi:type="thingml:PropertyReference" property="//@types.28/@properties.0"/>
            </actions>
            <actions xsi:type="thingml:SendAction" message="//@types.36/@messages.0" port="//@types.28/@ports.1">
              <parameters xsi:type="thingml:PropertyReference" property="//@types.28/@properties.1"/>
            </actions>
          </action>
          <condition xsi:type="thingml:AndExpression">
            <lhs xsi:type="thingml:AndExpression">
              <lhs xsi:type="thingml:AndExpression">
                <lhs xsi:type="thingml:GreaterExpression">
                  <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@functions.0/@parameters.0"/>
                  <rhs xsi:type="thingml:UnaryMinus">
                    <term xsi:type="thingml:IntegerLiteral" intValue="256"/>
                  </rhs>
                </lhs>
                <rhs xsi:type="thingml:LowerExpression">
                  <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@functions.0/@parameters.0"/>
                  <rhs xsi:type="thingml:IntegerLiteral" intValue="256"/>
                </rhs>
              </lhs>
              <rhs xsi:type="thingml:GreaterExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@functions.0/@parameters.1"/>
                <rhs xsi:type="thingml:UnaryMinus">
                  <term xsi:type="thingml:IntegerLiteral" intValue="256"/>
                </rhs>
              </rhs>
            </lhs>
            <rhs xsi:type="thingml:LowerExpression">
              <lhs xsi:type="thingml:PropertyReference" property="//@types.28/@functions.0/@parameters.1"/>
              <rhs xsi:type="thingml:IntegerLiteral" intValue="256"/>
            </rhs>
          </condition>
        </actions>
      </body>
    </functions>
  </types>
  <types xsi:type="thingml:Thing" name="DigitalInputMsgs" fragment="true">
    <messages name="read_digital_input"/>
    <messages name="digital_input_value">
      <parameters type="//@types.54" name="value"/>
    </messages>
  </types>
  <types xsi:type="thingml:Thing" name="DigitalInput" fragment="true" includes="//@types.29">
    <ports xsi:type="thingml:ProvidedPort" name="DigitalInput" receives="//@types.29/@messages.0" sends="//@types.29/@messages.1"/>
  </types>
  <types xsi:type="thingml:Thing" name="PeriodicDigitalInput" includes="//@types.29 //@types.22">
    <properties type="//@types.49" name="refresh_rate" changeable="false">
      <init xsi:type="thingml:IntegerLiteral" intValue="5000"/>
    </properties>
    <ports xsi:type="thingml:ProvidedPort" name="PeriodicDigitalInput" sends="//@types.29/@messages.1"/>
    <ports xsi:type="thingml:RequiredPort" name="Timer" receives="//@types.22/@messages.2" sends="//@types.22/@messages.0"/>
    <ports xsi:type="thingml:RequiredPort" name="DigitalInput" receives="//@types.29/@messages.1" sends="//@types.29/@messages.0"/>
    <behaviour name="PeriodicDigitalInputImpl" initial="//@types.31/@behaviour.0/@substate.0">
      <substate name="Running" incoming="//@types.31/@behaviour.0/@substate.1/@outgoing.0">
        <outgoing target="//@types.31/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.22/@messages.2" port="//@types.31/@ports.1"/>
          <action xsi:type="thingml:SendAction" message="//@types.29/@messages.0" port="//@types.31/@ports.2"/>
        </outgoing>
        <entry xsi:type="thingml:SendAction" message="//@types.22/@messages.0" port="//@types.31/@ports.1">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.31/@properties.0"/>
        </entry>
      </substate>
      <substate name="Waiting" incoming="//@types.31/@behaviour.0/@substate.0/@outgoing.0">
        <outgoing target="//@types.31/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.29/@messages.1" port="//@types.31/@ports.2"/>
          <action xsi:type="thingml:SendAction" message="//@types.29/@messages.1" port="//@types.31/@ports.0">
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.31/@behaviour.0/@substate.1/@outgoing.0/@event.0" paramRef="//@types.29/@messages.1/@parameters.0"/>
          </action>
        </outgoing>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingml:Thing" name="OnChangeDigitalInput" includes="//@types.29 //@types.21">
    <ports xsi:type="thingml:ProvidedPort" name="OnChangeDigitalInput" sends="//@types.29/@messages.1"/>
    <ports xsi:type="thingml:RequiredPort" name="DigitalInput" receives="//@types.29/@messages.1" sends="//@types.29/@messages.0"/>
    <ports xsi:type="thingml:RequiredPort" name="Polling" receives="//@types.20/@messages.1"/>
    <behaviour name="OnChangeDigitalInputImpl" initial="//@types.32/@behaviour.0/@substate.0">
      <substate name="Low" incoming="//@types.32/@behaviour.0/@substate.1/@outgoing.0">
        <outgoing target="//@types.32/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.29/@messages.1" port="//@types.32/@ports.1"/>
          <guard xsi:type="thingml:EqualsExpression">
            <lhs xsi:type="thingml:EventReference" msgRef="//@types.32/@behaviour.0/@substate.0/@outgoing.0/@event.0" paramRef="//@types.29/@messages.1/@parameters.0"/>
            <rhs xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.1"/>
          </guard>
        </outgoing>
        <entry xsi:type="thingml:SendAction" message="//@types.29/@messages.1" port="//@types.32/@ports.0">
          <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.0"/>
        </entry>
      </substate>
      <substate name="High" incoming="//@types.32/@behaviour.0/@substate.0/@outgoing.0">
        <outgoing name="pressed" target="//@types.32/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.29/@messages.1" port="//@types.32/@ports.1"/>
          <guard xsi:type="thingml:EqualsExpression">
            <lhs xsi:type="thingml:EventReference" msgRef="//@types.32/@behaviour.0/@substate.1/@outgoing.0/@event.0" paramRef="//@types.29/@messages.1/@parameters.0"/>
            <rhs xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.0"/>
          </guard>
        </outgoing>
        <entry xsi:type="thingml:SendAction" message="//@types.29/@messages.1" port="//@types.32/@ports.0">
          <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.1"/>
        </entry>
      </substate>
      <region name="Polling" initial="//@types.32/@behaviour.0/@region.0/@substate.0">
        <substate name="Poll" incoming="//@types.32/@behaviour.0/@region.0/@substate.1/@outgoing.0">
          <outgoing target="//@types.32/@behaviour.0/@region.0/@substate.1">
            <event xsi:type="thingml:ReceiveMessage" message="//@types.20/@messages.1" port="//@types.32/@ports.2"/>
            <action xsi:type="thingml:SendAction" message="//@types.29/@messages.0" port="//@types.32/@ports.1"/>
          </outgoing>
        </substate>
        <substate name="Wait" incoming="//@types.32/@behaviour.0/@region.0/@substate.0/@outgoing.0">
          <outgoing target="//@types.32/@behaviour.0/@region.0/@substate.0">
            <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.29/@messages.1" port="//@types.32/@ports.1"/>
          </outgoing>
        </substate>
      </region>
    </behaviour>
  </types>
  <types xsi:type="thingml:Thing" name="PwmOutputMsgs" fragment="true">
    <messages name="set_pwm_value">
      <parameters type="//@types.45" name="value"/>
    </messages>
  </types>
  <types xsi:type="thingml:Thing" name="PwmOutput" includes="//@types.33">
    <ports xsi:type="thingml:ProvidedPort" name="Pwm" receives="//@types.33/@messages.0"/>
  </types>
  <types xsi:type="thingml:Thing" name="AnalogInputArduino" fragment="true" includes="//@types.7 //@types.17">
    <annotations name="pim" value="AnalogInput"/>
    <annotations name="platform" value="arduino"/>
    <properties type="//@types.13" name="pin" changeable="false">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.13" literal="//@types.13/@literals.4"/>
    </properties>
    <ports xsi:type="thingml:RequiredPort" name="AnalogIO" receives="//@types.17/@messages.6" sends="//@types.17/@messages.5"/>
    <behaviour name="SimpleAnalogInputImp" initial="//@types.35/@behaviour.0/@substate.0">
      <substate name="Running" incoming="//@types.35/@behaviour.0/@substate.1/@outgoing.0">
        <outgoing name="WaitingResult" target="//@types.35/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.6/@messages.0" port="//@types.7/@ports.0"/>
          <action xsi:type="thingml:SendAction" message="//@types.17/@messages.5" port="//@types.35/@ports.0">
            <parameters xsi:type="thingml:PropertyReference" property="//@types.35/@properties.0"/>
          </action>
        </outgoing>
      </substate>
      <substate name="Waiting" incoming="//@types.35/@behaviour.0/@substate.0/@outgoing.0">
        <outgoing name="ResultCatched" target="//@types.35/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.6" port="//@types.35/@ports.0"/>
          <guard xsi:type="thingml:EqualsExpression">
            <lhs xsi:type="thingml:EventReference" msgRef="//@types.35/@behaviour.0/@substate.1/@outgoing.0/@event.0" paramRef="//@types.17/@messages.6/@parameters.0"/>
            <rhs xsi:type="thingml:PropertyReference" property="//@types.35/@properties.0"/>
          </guard>
          <action xsi:type="thingml:SendAction" message="//@types.6/@messages.1" port="//@types.7/@ports.0">
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.35/@behaviour.0/@substate.1/@outgoing.0/@event.0" paramRef="//@types.17/@messages.6/@parameters.1"/>
          </action>
        </outgoing>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingml:Thing" name="HBridgeMotorMsg" fragment="true">
    <messages name="set_speed">
      <parameters type="//@types.48" name="speed"/>
    </messages>
    <messages name="stop"/>
  </types>
  <types xsi:type="thingml:Thing" name="HBridgeMotor" fragment="true" includes="//@types.36 //@types.33 //@types.0">
    <ports xsi:type="thingml:ProvidedPort" name="HBridgeMotor" receives="//@types.36/@messages.0 //@types.36/@messages.1"/>
  </types>
  <types xsi:type="thingml:Thing" name="HBridgeMotorUC" includes="//@types.37">
    <ports xsi:type="thingml:RequiredPort" name="Pwm" sends="//@types.33/@messages.0"/>
    <ports xsi:type="thingml:RequiredPort" name="I1" sends="//@types.0/@messages.0"/>
    <ports xsi:type="thingml:RequiredPort" name="I2" sends="//@types.0/@messages.0"/>
    <behaviour name="HBridgeMotorUC" initial="//@types.38/@behaviour.0/@substate.0">
      <substate name="stoped" incoming="//@types.38/@behaviour.0/@substate.1/@outgoing.0 //@types.38/@behaviour.0/@substate.1/@outgoing.2 //@types.38/@behaviour.0/@substate.2/@outgoing.0 //@types.38/@behaviour.0/@substate.2/@outgoing.2">
        <outgoing target="//@types.38/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.36/@messages.0" port="//@types.37/@ports.0"/>
          <guard xsi:type="thingml:AndExpression">
            <lhs xsi:type="thingml:GreaterExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.0/@outgoing.0/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:IntegerLiteral"/>
            </lhs>
            <rhs xsi:type="thingml:LowerExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.0/@outgoing.0/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:IntegerLiteral" intValue="256"/>
            </rhs>
          </guard>
          <after xsi:type="thingml:SendAction" message="//@types.33/@messages.0" port="//@types.38/@ports.0">
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.0/@outgoing.0/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
          </after>
        </outgoing>
        <outgoing target="//@types.38/@behaviour.0/@substate.2">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.36/@messages.0" port="//@types.37/@ports.0"/>
          <guard xsi:type="thingml:AndExpression">
            <lhs xsi:type="thingml:GreaterExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.0/@outgoing.1/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:UnaryMinus">
                <term xsi:type="thingml:IntegerLiteral" intValue="256"/>
              </rhs>
            </lhs>
            <rhs xsi:type="thingml:LowerExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.0/@outgoing.1/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:IntegerLiteral"/>
            </rhs>
          </guard>
          <after xsi:type="thingml:SendAction" message="//@types.33/@messages.0" port="//@types.38/@ports.0">
            <parameters xsi:type="thingml:UnaryMinus">
              <term xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.0/@outgoing.1/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
            </parameters>
          </after>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.33/@messages.0" port="//@types.38/@ports.0">
            <parameters xsi:type="thingml:IntegerLiteral"/>
          </actions>
          <actions xsi:type="thingml:SendAction" message="//@types.0/@messages.0" port="//@types.38/@ports.1">
            <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.0"/>
          </actions>
          <actions xsi:type="thingml:SendAction" message="//@types.0/@messages.0" port="//@types.38/@ports.2">
            <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.0"/>
          </actions>
        </entry>
      </substate>
      <substate name="forward" incoming="//@types.38/@behaviour.0/@substate.0/@outgoing.0 //@types.38/@behaviour.0/@substate.2/@outgoing.1">
        <outgoing target="//@types.38/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.36/@messages.1" port="//@types.37/@ports.0"/>
        </outgoing>
        <outgoing target="//@types.38/@behaviour.0/@substate.2">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.36/@messages.0" port="//@types.37/@ports.0"/>
          <guard xsi:type="thingml:AndExpression">
            <lhs xsi:type="thingml:GreaterExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.1/@outgoing.1/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:UnaryMinus">
                <term xsi:type="thingml:IntegerLiteral" intValue="256"/>
              </rhs>
            </lhs>
            <rhs xsi:type="thingml:LowerExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.1/@outgoing.1/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:IntegerLiteral"/>
            </rhs>
          </guard>
          <action xsi:type="thingml:SendAction" message="//@types.33/@messages.0" port="//@types.38/@ports.0">
            <parameters xsi:type="thingml:IntegerLiteral"/>
          </action>
          <after xsi:type="thingml:SendAction" message="//@types.33/@messages.0" port="//@types.38/@ports.0">
            <parameters xsi:type="thingml:UnaryMinus">
              <term xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.1/@outgoing.1/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
            </parameters>
          </after>
        </outgoing>
        <outgoing target="//@types.38/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.36/@messages.0" port="//@types.37/@ports.0"/>
          <guard xsi:type="thingml:EqualsExpression">
            <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.1/@outgoing.2/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
            <rhs xsi:type="thingml:IntegerLiteral"/>
          </guard>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.0/@messages.0" port="//@types.38/@ports.1">
            <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.0"/>
          </actions>
          <actions xsi:type="thingml:SendAction" message="//@types.0/@messages.0" port="//@types.38/@ports.2">
            <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.1"/>
          </actions>
        </entry>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.36/@messages.0" port="//@types.37/@ports.0"/>
          <guard xsi:type="thingml:AndExpression">
            <lhs xsi:type="thingml:GreaterExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.1/@internal.0/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:IntegerLiteral"/>
            </lhs>
            <rhs xsi:type="thingml:LowerExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.1/@internal.0/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:IntegerLiteral" intValue="256"/>
            </rhs>
          </guard>
          <action xsi:type="thingml:SendAction" message="//@types.33/@messages.0" port="//@types.38/@ports.0">
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.1/@internal.0/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
          </action>
        </internal>
      </substate>
      <substate name="backward" incoming="//@types.38/@behaviour.0/@substate.0/@outgoing.1 //@types.38/@behaviour.0/@substate.1/@outgoing.1">
        <outgoing target="//@types.38/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.36/@messages.1" port="//@types.37/@ports.0"/>
        </outgoing>
        <outgoing target="//@types.38/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.36/@messages.0" port="//@types.37/@ports.0"/>
          <guard xsi:type="thingml:AndExpression">
            <lhs xsi:type="thingml:GreaterExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.2/@outgoing.1/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:IntegerLiteral"/>
            </lhs>
            <rhs xsi:type="thingml:LowerExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.2/@outgoing.1/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:IntegerLiteral" intValue="256"/>
            </rhs>
          </guard>
          <action xsi:type="thingml:SendAction" message="//@types.33/@messages.0" port="//@types.38/@ports.0">
            <parameters xsi:type="thingml:IntegerLiteral"/>
          </action>
          <after xsi:type="thingml:SendAction" message="//@types.33/@messages.0" port="//@types.38/@ports.0">
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.2/@outgoing.1/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
          </after>
        </outgoing>
        <outgoing target="//@types.38/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.36/@messages.0" port="//@types.37/@ports.0"/>
          <guard xsi:type="thingml:EqualsExpression">
            <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.2/@outgoing.2/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
            <rhs xsi:type="thingml:IntegerLiteral"/>
          </guard>
        </outgoing>
        <entry xsi:type="thingml:ActionBlock">
          <actions xsi:type="thingml:SendAction" message="//@types.0/@messages.0" port="//@types.38/@ports.1">
            <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.1"/>
          </actions>
          <actions xsi:type="thingml:SendAction" message="//@types.0/@messages.0" port="//@types.38/@ports.2">
            <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.0"/>
          </actions>
        </entry>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.36/@messages.0" port="//@types.37/@ports.0"/>
          <guard xsi:type="thingml:AndExpression">
            <lhs xsi:type="thingml:GreaterExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.2/@internal.0/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:UnaryMinus">
                <term xsi:type="thingml:IntegerLiteral" intValue="256"/>
              </rhs>
            </lhs>
            <rhs xsi:type="thingml:LowerExpression">
              <lhs xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.2/@internal.0/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
              <rhs xsi:type="thingml:IntegerLiteral"/>
            </rhs>
          </guard>
          <action xsi:type="thingml:SendAction" message="//@types.33/@messages.0" port="//@types.38/@ports.0">
            <parameters xsi:type="thingml:UnaryMinus">
              <term xsi:type="thingml:EventReference" msgRef="//@types.38/@behaviour.0/@substate.2/@internal.0/@event.0" paramRef="//@types.36/@messages.0/@parameters.0"/>
            </parameters>
          </action>
        </internal>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingml:Thing" name="BumperMsg" fragment="true">
    <messages name="bump_left"/>
    <messages name="bump_right"/>
  </types>
  <types xsi:type="thingml:Thing" name="Bumper" includes="//@types.39">
    <ports xsi:type="thingml:ProvidedPort" name="Bumper" sends="//@types.39/@messages.0 //@types.39/@messages.1"/>
  </types>
  <types xsi:type="thingml:Thing" name="BumperUC" includes="//@types.40 //@types.29">
    <ports xsi:type="thingml:RequiredPort" name="LeftSensor" receives="//@types.29/@messages.1"/>
    <ports xsi:type="thingml:RequiredPort" name="RightSensor" receives="//@types.29/@messages.1"/>
    <behaviour name="BumperUCImpl" initial="//@types.41/@behaviour.0/@substate.0">
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.29/@messages.1" port="//@types.41/@ports.0"/>
        <guard xsi:type="thingml:EqualsExpression">
          <lhs xsi:type="thingml:EventReference" msgRef="//@types.41/@behaviour.0/@internal.0/@event.0" paramRef="//@types.29/@messages.1/@parameters.0"/>
          <rhs xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.0"/>
        </guard>
        <action xsi:type="thingml:SendAction" message="//@types.39/@messages.0" port="//@types.40/@ports.0"/>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.29/@messages.1" port="//@types.41/@ports.1"/>
        <guard xsi:type="thingml:EqualsExpression">
          <lhs xsi:type="thingml:EventReference" msgRef="//@types.41/@behaviour.0/@internal.1/@event.0" paramRef="//@types.29/@messages.1/@parameters.0"/>
          <rhs xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.0"/>
        </guard>
        <action xsi:type="thingml:SendAction" message="//@types.39/@messages.1" port="//@types.40/@ports.0"/>
      </internal>
      <substate name="Active"/>
    </behaviour>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Byte">
    <annotations name="c_type" value="uint8_t"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="Byte"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Boolean">
    <annotations name="c_type" value="uint8_t"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="Boolean"/>
    <annotations name="SenML_type" value="Boolean"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Integer">
    <annotations name="c_type" value="int"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="Short"/>
    <annotations name="SenML_type" value="Double"/>
    <annotations name="ros_type" value="int16"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="UInt8">
    <annotations name="c_type" value="uint8_t"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="Byte"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Int8">
    <annotations name="c_type" value="int8_t"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="Byte"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="UInt16">
    <annotations name="c_type" value="uint16_t"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="Short"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Int16">
    <annotations name="c_type" value="int"/>
    <annotations name="c_byte_size" value="2"/>
    <annotations name="java_type" value="Short"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Long">
    <annotations name="c_type" value="long"/>
    <annotations name="c_byte_size" value="4"/>
    <annotations name="java_type" value="Integer"/>
    <annotations name="scala_type" value="Int"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="ULong">
    <annotations name="c_type" value="unsigned long"/>
    <annotations name="c_byte_size" value="4"/>
    <annotations name="java_type" value="Integer"/>
    <annotations name="scala_type" value="Int"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Double">
    <annotations name="c_type" value="double"/>
    <annotations name="c_byte_size" value="4"/>
    <annotations name="java_type" value="Float"/>
    <annotations name="SenML_type" value="Double"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="Char">
    <annotations name="c_type" value="char"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="java_type" value="Char"/>
    <annotations name="SenML_type" value="String"/>
  </types>
  <types xsi:type="thingml:PrimitiveType" name="String">
    <annotations name="c_type" value="char *"/>
    <annotations name="c_byte_size" value="*"/>
    <annotations name="java_type" value="String"/>
    <annotations name="SenML_type" value="String"/>
  </types>
  <types xsi:type="thingml:Enumeration" name="DigitalState">
    <annotations name="java_type" value="Byte"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="LOW">
      <annotations name="enum_val" value="0"/>
    </literals>
    <literals name="HIGH">
      <annotations name="enum_val" value="1"/>
    </literals>
  </types>
  <types xsi:type="thingml:Enumeration" name="Obstacle">
    <annotations name="java_type" value="byte"/>
    <annotations name="c_byte_size" value="1"/>
    <annotations name="c_type" value="uint8_t"/>
    <literals name="NONE">
      <annotations name="enum_val" value="0"/>
    </literals>
    <literals name="LEFT">
      <annotations name="enum_val" value="1"/>
    </literals>
    <literals name="RIGHT">
      <annotations name="enum_val" value="2"/>
    </literals>
    <literals name="FRONT">
      <annotations name="enum_val" value="3"/>
    </literals>
  </types>
  <types xsi:type="thingml:Thing" name="LightFollower" includes="//@types.26 //@types.6 //@types.22 //@types.2 //@types.39">
    <properties type="//@types.48" name="left_speed">
      <init xsi:type="thingml:IntegerLiteral"/>
    </properties>
    <properties type="//@types.48" name="right_speed">
      <init xsi:type="thingml:IntegerLiteral"/>
    </properties>
    <properties type="//@types.48" name="left_light">
      <init xsi:type="thingml:IntegerLiteral"/>
    </properties>
    <properties type="//@types.48" name="right_light">
      <init xsi:type="thingml:IntegerLiteral"/>
    </properties>
    <ports xsi:type="thingml:RequiredPort" name="TwoWDBase" sends="//@types.26/@messages.4 //@types.26/@messages.5"/>
    <ports xsi:type="thingml:RequiredPort" name="RightLight" receives="//@types.6/@messages.1"/>
    <ports xsi:type="thingml:RequiredPort" name="LeftLight" receives="//@types.6/@messages.1"/>
    <ports xsi:type="thingml:RequiredPort" name="Timer" receives="//@types.22/@messages.2" sends="//@types.22/@messages.0 //@types.22/@messages.1"/>
    <ports xsi:type="thingml:RequiredPort" name="FrontBumper" receives="//@types.39/@messages.0 //@types.39/@messages.1"/>
    <ports xsi:type="thingml:RequiredPort" name="Led" sends="//@types.2/@messages.0 //@types.2/@messages.2"/>
    <behaviour name="LightFollowerImpl" initial="//@types.56/@behaviour.0/@substate.0">
      <entry xsi:type="thingml:SendAction" message="//@types.2/@messages.0" port="//@types.56/@ports.5"/>
      <properties type="//@types.55" name="obstacle">
        <init xsi:type="thingml:EnumLiteralRef" enum="//@types.55" literal="//@types.55/@literals.0"/>
      </properties>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.6/@messages.1" port="//@types.56/@ports.1"/>
        <action xsi:type="thingml:VariableAssignment" property="//@types.56/@properties.3">
          <expression xsi:type="thingml:EventReference" msgRef="//@types.56/@behaviour.0/@internal.0/@event.0" paramRef="//@types.6/@messages.1/@parameters.0"/>
        </action>
      </internal>
      <internal>
        <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.6/@messages.1" port="//@types.56/@ports.2"/>
        <action xsi:type="thingml:VariableAssignment" property="//@types.56/@properties.2">
          <expression xsi:type="thingml:EventReference" msgRef="//@types.56/@behaviour.0/@internal.1/@event.0" paramRef="//@types.6/@messages.1/@parameters.0"/>
        </action>
      </internal>
      <substate name="Init">
        <outgoing target="//@types.56/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.22/@messages.2" port="//@types.56/@ports.3"/>
        </outgoing>
        <entry xsi:type="thingml:SendAction" message="//@types.22/@messages.0" port="//@types.56/@ports.3">
          <parameters xsi:type="thingml:IntegerLiteral" intValue="500"/>
        </entry>
      </substate>
      <substate name="SeekLight" incoming="//@types.56/@behaviour.0/@substate.0/@outgoing.0 //@types.56/@behaviour.0/@substate.1/@outgoing.0 //@types.56/@behaviour.0/@substate.2/@outgoing.0">
        <outgoing target="//@types.56/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.22/@messages.2" port="//@types.56/@ports.3"/>
          <action xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:SendAction" message="//@types.2/@messages.2" port="//@types.56/@ports.5"/>
            <actions xsi:type="thingml:FunctionCallStatement" function="//@types.56/@functions.0"/>
          </action>
        </outgoing>
        <outgoing target="//@types.56/@behaviour.0/@substate.2">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.39/@messages.0" port="//@types.56/@ports.4"/>
          <action xsi:type="thingml:VariableAssignment" property="//@types.56/@behaviour.0/@properties.0">
            <expression xsi:type="thingml:EnumLiteralRef" enum="//@types.55" literal="//@types.55/@literals.1"/>
          </action>
        </outgoing>
        <outgoing target="//@types.56/@behaviour.0/@substate.2">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.39/@messages.1" port="//@types.56/@ports.4"/>
          <action xsi:type="thingml:VariableAssignment" property="//@types.56/@behaviour.0/@properties.0">
            <expression xsi:type="thingml:EnumLiteralRef" enum="//@types.55" literal="//@types.55/@literals.2"/>
          </action>
        </outgoing>
        <entry xsi:type="thingml:SendAction" message="//@types.22/@messages.0" port="//@types.56/@ports.3">
          <parameters xsi:type="thingml:IntegerLiteral" intValue="25"/>
        </entry>
      </substate>
      <substate xsi:type="thingml:CompositeState" name="AvoidObstacle" incoming="//@types.56/@behaviour.0/@substate.1/@outgoing.1 //@types.56/@behaviour.0/@substate.1/@outgoing.2" initial="//@types.56/@behaviour.0/@substate.2/@substate.0">
        <outgoing target="//@types.56/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.22/@messages.2" port="//@types.56/@ports.3"/>
          <guard xsi:type="thingml:EqualsExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.56/@behaviour.0/@properties.0"/>
            <rhs xsi:type="thingml:EnumLiteralRef" enum="//@types.55" literal="//@types.55/@literals.0"/>
          </guard>
        </outgoing>
        <entry xsi:type="thingml:SendAction" message="//@types.26/@messages.5" port="//@types.56/@ports.0"/>
        <substate name="back">
          <outgoing target="//@types.56/@behaviour.0/@substate.2/@substate.1">
            <event xsi:type="thingml:ReceiveMessage" message="//@types.22/@messages.2" port="//@types.56/@ports.3"/>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:SendAction" message="//@types.26/@messages.4" port="//@types.56/@ports.0">
              <parameters xsi:type="thingml:UnaryMinus">
                <term xsi:type="thingml:IntegerLiteral" intValue="75"/>
              </parameters>
              <parameters xsi:type="thingml:UnaryMinus">
                <term xsi:type="thingml:IntegerLiteral" intValue="75"/>
              </parameters>
            </actions>
            <actions xsi:type="thingml:SendAction" message="//@types.22/@messages.1" port="//@types.56/@ports.3"/>
            <actions xsi:type="thingml:SendAction" message="//@types.22/@messages.0" port="//@types.56/@ports.3">
              <parameters xsi:type="thingml:IntegerLiteral" intValue="1000"/>
            </actions>
          </entry>
        </substate>
        <substate name="turn" incoming="//@types.56/@behaviour.0/@substate.2/@substate.0/@outgoing.0 //@types.56/@behaviour.0/@substate.2/@substate.1/@outgoing.0">
          <outgoing target="//@types.56/@behaviour.0/@substate.2/@substate.1">
            <event xsi:type="thingml:ReceiveMessage" message="//@types.22/@messages.2" port="//@types.56/@ports.3"/>
            <action xsi:type="thingml:ActionBlock">
              <actions xsi:type="thingml:SendAction" message="//@types.26/@messages.4" port="//@types.56/@ports.0">
                <parameters xsi:type="thingml:IntegerLiteral"/>
                <parameters xsi:type="thingml:IntegerLiteral"/>
              </actions>
              <actions xsi:type="thingml:SendAction" message="//@types.22/@messages.0" port="//@types.56/@ports.3">
                <parameters xsi:type="thingml:IntegerLiteral" intValue="250"/>
              </actions>
              <actions xsi:type="thingml:VariableAssignment" property="//@types.56/@behaviour.0/@properties.0">
                <expression xsi:type="thingml:EnumLiteralRef" enum="//@types.55" literal="//@types.55/@literals.0"/>
              </actions>
            </action>
          </outgoing>
          <entry xsi:type="thingml:ActionBlock">
            <actions xsi:type="thingml:ConditionalAction">
              <action xsi:type="thingml:SendAction" message="//@types.26/@messages.4" port="//@types.56/@ports.0">
                <parameters xsi:type="thingml:UnaryMinus">
                  <term xsi:type="thingml:IntegerLiteral" intValue="60"/>
                </parameters>
                <parameters xsi:type="thingml:IntegerLiteral" intValue="60"/>
              </action>
              <condition xsi:type="thingml:EqualsExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.56/@behaviour.0/@properties.0"/>
                <rhs xsi:type="thingml:EnumLiteralRef" enum="//@types.55" literal="//@types.55/@literals.2"/>
              </condition>
            </actions>
            <actions xsi:type="thingml:ConditionalAction">
              <action xsi:type="thingml:SendAction" message="//@types.26/@messages.4" port="//@types.56/@ports.0">
                <parameters xsi:type="thingml:IntegerLiteral" intValue="60"/>
                <parameters xsi:type="thingml:UnaryMinus">
                  <term xsi:type="thingml:IntegerLiteral" intValue="60"/>
                </parameters>
              </action>
              <condition xsi:type="thingml:NotExpression">
                <term xsi:type="thingml:ExpressionGroup">
                  <exp xsi:type="thingml:EqualsExpression">
                    <lhs xsi:type="thingml:PropertyReference" property="//@types.56/@behaviour.0/@properties.0"/>
                    <rhs xsi:type="thingml:EnumLiteralRef" enum="//@types.55" literal="//@types.55/@literals.2"/>
                  </exp>
                </term>
              </condition>
            </actions>
            <actions xsi:type="thingml:SendAction" message="//@types.22/@messages.0" port="//@types.56/@ports.3">
              <parameters xsi:type="thingml:IntegerLiteral" intValue="750"/>
            </actions>
          </entry>
        </substate>
      </substate>
    </behaviour>
    <functions name="follow_light">
      <body xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:LocalVariable" type="//@types.48" name="diff">
          <init xsi:type="thingml:DivExpression">
            <lhs xsi:type="thingml:ExpressionGroup">
              <exp xsi:type="thingml:MinusExpression">
                <lhs xsi:type="thingml:PropertyReference" property="//@types.56/@properties.2"/>
                <rhs xsi:type="thingml:PropertyReference" property="//@types.56/@properties.3"/>
              </exp>
            </lhs>
            <rhs xsi:type="thingml:IntegerLiteral" intValue="2"/>
          </init>
        </actions>
        <actions xsi:type="thingml:ConditionalAction">
          <action xsi:type="thingml:VariableAssignment" property="//@types.56/@functions.0/@body/@actions.0">
            <expression xsi:type="thingml:IntegerLiteral" intValue="50"/>
          </action>
          <condition xsi:type="thingml:GreaterExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.56/@functions.0/@body/@actions.0"/>
            <rhs xsi:type="thingml:IntegerLiteral" intValue="50"/>
          </condition>
        </actions>
        <actions xsi:type="thingml:ConditionalAction">
          <action xsi:type="thingml:VariableAssignment" property="//@types.56/@functions.0/@body/@actions.0">
            <expression xsi:type="thingml:UnaryMinus">
              <term xsi:type="thingml:IntegerLiteral" intValue="50"/>
            </expression>
          </action>
          <condition xsi:type="thingml:LowerExpression">
            <lhs xsi:type="thingml:PropertyReference" property="//@types.56/@functions.0/@body/@actions.0"/>
            <rhs xsi:type="thingml:UnaryMinus">
              <term xsi:type="thingml:IntegerLiteral" intValue="50"/>
            </rhs>
          </condition>
        </actions>
        <actions xsi:type="thingml:VariableAssignment" property="//@types.56/@properties.0">
          <expression xsi:type="thingml:MinusExpression">
            <lhs xsi:type="thingml:IntegerLiteral" intValue="127"/>
            <rhs xsi:type="thingml:PropertyReference" property="//@types.56/@functions.0/@body/@actions.0"/>
          </expression>
        </actions>
        <actions xsi:type="thingml:VariableAssignment" property="//@types.56/@properties.1">
          <expression xsi:type="thingml:PlusExpression">
            <lhs xsi:type="thingml:IntegerLiteral" intValue="127"/>
            <rhs xsi:type="thingml:PropertyReference" property="//@types.56/@functions.0/@body/@actions.0"/>
          </expression>
        </actions>
        <actions xsi:type="thingml:SendAction" message="//@types.26/@messages.4" port="//@types.56/@ports.0">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.56/@properties.0"/>
          <parameters xsi:type="thingml:PropertyReference" property="//@types.56/@properties.1"/>
        </actions>
      </body>
    </functions>
  </types>
  <types xsi:type="thingml:Thing" name="DigitalOutputArduino" includes="//@types.1 //@types.17">
    <annotations name="pim" value="DigitalOutput"/>
    <annotations name="platform" value="arduino"/>
    <properties type="//@types.11" name="pin" changeable="false">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.13"/>
    </properties>
    <ports xsi:type="thingml:RequiredPort" name="DigitalIO" sends="//@types.17/@messages.0 //@types.17/@messages.1"/>
    <behaviour name="DigitalOutpuImpl" initial="//@types.57/@behaviour.0/@substate.0">
      <entry xsi:type="thingml:SendAction" message="//@types.17/@messages.0" port="//@types.57/@ports.0">
        <parameters xsi:type="thingml:PropertyReference" property="//@types.57/@properties.0"/>
        <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.10" literal="//@types.10/@literals.1"/>
      </entry>
      <substate name="Running">
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.0/@messages.0" port="//@types.1/@ports.0"/>
          <action xsi:type="thingml:SendAction" message="//@types.17/@messages.1" port="//@types.57/@ports.0">
            <parameters xsi:type="thingml:PropertyReference" property="//@types.57/@properties.0"/>
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.57/@behaviour.0/@substate.0/@internal.0/@event.0" paramRef="//@types.0/@messages.0/@parameters.0"/>
          </action>
        </internal>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingml:Thing" name="DigitalInputArduino" fragment="true" includes="//@types.30 //@types.17">
    <annotations name="pim" value="DigitalInput"/>
    <annotations name="platform" value="arduino"/>
    <properties type="//@types.11" name="pin" changeable="false">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.3"/>
    </properties>
    <properties type="//@types.43" name="pullup" changeable="false">
      <init xsi:type="thingml:BooleanLiteral"/>
    </properties>
    <ports xsi:type="thingml:RequiredPort" name="DigitalIO" receives="//@types.17/@messages.3" sends="//@types.17/@messages.0 //@types.17/@messages.2 //@types.17/@messages.1"/>
    <behaviour name="SimpleDigitalInputImpl" initial="//@types.58/@behaviour.0/@substate.0">
      <entry xsi:type="thingml:ActionBlock">
        <actions xsi:type="thingml:SendAction" message="//@types.17/@messages.0" port="//@types.58/@ports.0">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.58/@properties.0"/>
          <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.10" literal="//@types.10/@literals.0"/>
        </actions>
        <actions xsi:type="thingml:ConditionalAction">
          <action xsi:type="thingml:SendAction" message="//@types.17/@messages.1" port="//@types.58/@ports.0">
            <parameters xsi:type="thingml:PropertyReference" property="//@types.58/@properties.0"/>
            <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.54" literal="//@types.54/@literals.1"/>
          </action>
          <condition xsi:type="thingml:PropertyReference" property="//@types.58/@properties.1"/>
        </actions>
      </entry>
      <substate name="Idle" incoming="//@types.58/@behaviour.0/@substate.1/@outgoing.0">
        <outgoing target="//@types.58/@behaviour.0/@substate.1">
          <event xsi:type="thingml:ReceiveMessage" message="//@types.29/@messages.0" port="//@types.30/@ports.0"/>
          <action xsi:type="thingml:SendAction" message="//@types.17/@messages.2" port="//@types.58/@ports.0">
            <parameters xsi:type="thingml:PropertyReference" property="//@types.58/@properties.0"/>
          </action>
        </outgoing>
      </substate>
      <substate name="Waiting" incoming="//@types.58/@behaviour.0/@substate.0/@outgoing.0">
        <outgoing target="//@types.58/@behaviour.0/@substate.0">
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.17/@messages.3" port="//@types.58/@ports.0"/>
          <guard xsi:type="thingml:EqualsExpression">
            <lhs xsi:type="thingml:EventReference" msgRef="//@types.58/@behaviour.0/@substate.1/@outgoing.0/@event.0" paramRef="//@types.17/@messages.3/@parameters.0"/>
            <rhs xsi:type="thingml:PropertyReference" property="//@types.58/@properties.0"/>
          </guard>
          <action xsi:type="thingml:SendAction" message="//@types.29/@messages.1" port="//@types.30/@ports.0">
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.58/@behaviour.0/@substate.1/@outgoing.0/@event.0" paramRef="//@types.17/@messages.3/@parameters.1"/>
          </action>
        </outgoing>
      </substate>
    </behaviour>
  </types>
  <types xsi:type="thingml:Thing" name="PwmOutputArduino" includes="//@types.34 //@types.17">
    <annotations name="pim" value="PwmOutput"/>
    <annotations name="platform" value="arduino"/>
    <properties type="//@types.12" name="pin" changeable="false">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.12" literal="//@types.12/@literals.0"/>
    </properties>
    <ports xsi:type="thingml:RequiredPort" name="DigitalIO" sends="//@types.17/@messages.0"/>
    <ports xsi:type="thingml:RequiredPort" name="AnalogIO" sends="//@types.17/@messages.7"/>
    <behaviour name="PwmOutputArduinoImpl" initial="//@types.59/@behaviour.0/@substate.0">
      <substate name="Running">
        <entry xsi:type="thingml:SendAction" message="//@types.17/@messages.0" port="//@types.59/@ports.0">
          <parameters xsi:type="thingml:PropertyReference" property="//@types.59/@properties.0"/>
          <parameters xsi:type="thingml:EnumLiteralRef" enum="//@types.10" literal="//@types.10/@literals.1"/>
        </entry>
        <internal>
          <event xsi:type="thingml:ReceiveMessage" name="m" message="//@types.33/@messages.0" port="//@types.34/@ports.0"/>
          <action xsi:type="thingml:SendAction" message="//@types.17/@messages.7" port="//@types.59/@ports.1">
            <parameters xsi:type="thingml:PropertyReference" property="//@types.59/@properties.0"/>
            <parameters xsi:type="thingml:EventReference" msgRef="//@types.59/@behaviour.0/@substate.0/@internal.0/@event.0" paramRef="//@types.33/@messages.0/@parameters.0"/>
          </action>
        </internal>
      </substate>
    </behaviour>
  </types>
  <configs name="AnalogInputArduino" fragment="true">
    <instances name="arduino" type="//@types.19"/>
    <instances name="analog_input" type="//@types.35"/>
    <connectors required="//@types.35/@ports.0" provided="//@types.18/@ports.1">
      <srv instance="//@configs.0/@instances.0"/>
      <cli instance="//@configs.0/@instances.1"/>
    </connectors>
  </configs>
  <configs name="PeriodicAnalogInputArduino" fragment="true">
    <instances name="arduino" type="//@types.19"/>
    <instances name="analog_input" type="//@types.35"/>
    <instances name="timer" type="//@types.25"/>
    <instances name="periodic_analog_input" type="//@types.8"/>
    <connectors required="//@types.35/@ports.0" provided="//@types.18/@ports.1">
      <srv instance="//@configs.1/@instances.0"/>
      <cli instance="//@configs.1/@instances.1"/>
    </connectors>
    <connectors required="//@types.8/@ports.2" provided="//@types.7/@ports.0">
      <srv instance="//@configs.1/@instances.1"/>
      <cli instance="//@configs.1/@instances.3"/>
    </connectors>
    <connectors required="//@types.8/@ports.1" provided="//@types.23/@ports.0">
      <srv instance="//@configs.1/@instances.2"/>
      <cli instance="//@configs.1/@instances.3"/>
    </connectors>
  </configs>
  <configs name="OnChangeAnalogInputArduino" fragment="true">
    <instances name="arduino" type="//@types.19"/>
    <instances name="analog_input" type="//@types.35"/>
    <instances name="timer" type="//@types.25"/>
    <instances name="change_analog_input" type="//@types.9"/>
    <connectors required="//@types.35/@ports.0" provided="//@types.18/@ports.1">
      <srv instance="//@configs.2/@instances.0"/>
      <cli instance="//@configs.2/@instances.1"/>
    </connectors>
    <connectors required="//@types.9/@ports.2" provided="//@types.7/@ports.0">
      <srv instance="//@configs.2/@instances.1"/>
      <cli instance="//@configs.2/@instances.3"/>
    </connectors>
    <connectors required="//@types.9/@ports.1" provided="//@types.23/@ports.0">
      <srv instance="//@configs.2/@instances.2"/>
      <cli instance="//@configs.2/@instances.3"/>
    </connectors>
  </configs>
  <configs name="PwmOutputArduino" fragment="true">
    <instances name="arduino" type="//@types.19"/>
    <instances name="pwm" type="//@types.59"/>
    <connectors required="//@types.59/@ports.1" provided="//@types.18/@ports.1">
      <srv instance="//@configs.3/@instances.0"/>
      <cli instance="//@configs.3/@instances.1"/>
    </connectors>
  </configs>
  <configs name="DigitalInputArduino" fragment="true">
    <instances name="arduino" type="//@types.19"/>
    <instances name="digital_input" type="//@types.58"/>
    <connectors required="//@types.58/@ports.0" provided="//@types.18/@ports.0">
      <srv instance="//@configs.4/@instances.0"/>
      <cli instance="//@configs.4/@instances.1"/>
    </connectors>
  </configs>
  <configs name="PeriodicDigitalInputArduino" fragment="true">
    <instances name="arduino" type="//@types.19"/>
    <instances name="timer" type="//@types.25"/>
    <instances name="digital_input" type="//@types.58"/>
    <instances name="periodic_digital_input" type="//@types.31"/>
    <connectors required="//@types.58/@ports.0" provided="//@types.18/@ports.0">
      <srv instance="//@configs.5/@instances.0"/>
      <cli instance="//@configs.5/@instances.2"/>
    </connectors>
    <connectors required="//@types.31/@ports.2" provided="//@types.30/@ports.0">
      <srv instance="//@configs.5/@instances.2"/>
      <cli instance="//@configs.5/@instances.3"/>
    </connectors>
    <connectors required="//@types.31/@ports.1" provided="//@types.23/@ports.0">
      <srv instance="//@configs.5/@instances.1"/>
      <cli instance="//@configs.5/@instances.3"/>
    </connectors>
  </configs>
  <configs name="OnChangeDigitalInputArduino" fragment="true">
    <instances name="arduino" type="//@types.19"/>
    <instances name="digital_input" type="//@types.58"/>
    <instances name="change_digital_input" type="//@types.32"/>
    <connectors required="//@types.58/@ports.0" provided="//@types.18/@ports.0">
      <srv instance="//@configs.6/@instances.0"/>
      <cli instance="//@configs.6/@instances.1"/>
    </connectors>
    <connectors required="//@types.32/@ports.1" provided="//@types.30/@ports.0">
      <srv instance="//@configs.6/@instances.1"/>
      <cli instance="//@configs.6/@instances.2"/>
    </connectors>
  </configs>
  <configs name="DigitalOutputArduino" fragment="true">
    <instances name="arduino" type="//@types.19"/>
    <instances name="digital_output" type="//@types.57"/>
    <connectors required="//@types.57/@ports.0" provided="//@types.18/@ports.0">
      <srv instance="//@configs.7/@instances.0"/>
      <cli instance="//@configs.7/@instances.1"/>
    </connectors>
  </configs>
  <configs name="LedArduino" fragment="true">
    <instances name="led" type="//@types.5"/>
    <connectors required="//@types.5/@ports.0" provided="//@types.1/@ports.0">
      <srv config="//@configs.8/@configs.0" instance="//@configs.7/@instances.1"/>
      <cli instance="//@configs.8/@instances.0"/>
    </connectors>
    <configs name="io" config="//@configs.7"/>
  </configs>
  <configs name="BumperArduino" fragment="true">
    <instances name="bumper" type="//@types.41"/>
    <connectors required="//@types.41/@ports.0" provided="//@types.32/@ports.0">
      <srv config="//@configs.9/@configs.0" instance="//@configs.6/@instances.2"/>
      <cli instance="//@configs.9/@instances.0"/>
    </connectors>
    <connectors required="//@types.41/@ports.1" provided="//@types.32/@ports.0">
      <srv config="//@configs.9/@configs.1" instance="//@configs.6/@instances.2"/>
      <cli instance="//@configs.9/@instances.0"/>
    </connectors>
    <configs name="leftin" config="//@configs.6"/>
    <configs name="rightin" config="//@configs.6"/>
  </configs>
  <configs name="HBridgeMotorArduino" fragment="true">
    <instances name="hbridge" type="//@types.38"/>
    <connectors required="//@types.38/@ports.1" provided="//@types.1/@ports.0">
      <srv config="//@configs.10/@configs.0" instance="//@configs.7/@instances.1"/>
      <cli instance="//@configs.10/@instances.0"/>
    </connectors>
    <connectors required="//@types.38/@ports.2" provided="//@types.1/@ports.0">
      <srv config="//@configs.10/@configs.1" instance="//@configs.7/@instances.1"/>
      <cli instance="//@configs.10/@instances.0"/>
    </connectors>
    <connectors required="//@types.38/@ports.0" provided="//@types.34/@ports.0">
      <srv config="//@configs.10/@configs.2" instance="//@configs.3/@instances.1"/>
      <cli instance="//@configs.10/@instances.0"/>
    </connectors>
    <configs name="i1" config="//@configs.7"/>
    <configs name="i2" config="//@configs.7"/>
    <configs name="pwm" config="//@configs.3"/>
    <propassigns property="//@types.57/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.11"/>
      <instance config="//@configs.10/@configs.0" instance="//@configs.7/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.57/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.12"/>
      <instance config="//@configs.10/@configs.1" instance="//@configs.7/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.59/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.12" literal="//@types.12/@literals.4"/>
      <instance config="//@configs.10/@configs.2" instance="//@configs.3/@instances.1"/>
    </propassigns>
  </configs>
  <configs name="TwoWDBaseWithHBridgeArduino" fragment="true">
    <instances name="base" type="//@types.28"/>
    <connectors required="//@types.28/@ports.0" provided="//@types.37/@ports.0">
      <srv config="//@configs.11/@configs.0" instance="//@configs.10/@instances.0"/>
      <cli instance="//@configs.11/@instances.0"/>
    </connectors>
    <connectors required="//@types.28/@ports.1" provided="//@types.37/@ports.0">
      <srv config="//@configs.11/@configs.1" instance="//@configs.10/@instances.0"/>
      <cli instance="//@configs.11/@instances.0"/>
    </connectors>
    <configs name="mleft" config="//@configs.10"/>
    <configs name="mright" config="//@configs.10"/>
    <propassigns property="//@types.57/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.8"/>
      <instance config="//@configs.11/@configs.0 //@configs.10/@configs.0" instance="//@configs.7/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.57/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.7"/>
      <instance config="//@configs.11/@configs.0 //@configs.10/@configs.1" instance="//@configs.7/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.59/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.12" literal="//@types.12/@literals.3"/>
      <instance config="//@configs.11/@configs.0 //@configs.10/@configs.2" instance="//@configs.3/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.57/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.11"/>
      <instance config="//@configs.11/@configs.1 //@configs.10/@configs.0" instance="//@configs.7/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.57/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.12"/>
      <instance config="//@configs.11/@configs.1 //@configs.10/@configs.1" instance="//@configs.7/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.59/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.12" literal="//@types.12/@literals.4"/>
      <instance config="//@configs.11/@configs.1 //@configs.10/@configs.2" instance="//@configs.3/@instances.1"/>
    </propassigns>
  </configs>
  <configs name="LightFollowerArduino">
    <instances name="robot" type="//@types.56"/>
    <instances name="timer" type="//@types.25"/>
    <connectors required="//@types.56/@ports.0" provided="//@types.27/@ports.0">
      <srv config="//@configs.12/@configs.0" instance="//@configs.11/@instances.0"/>
      <cli instance="//@configs.12/@instances.0"/>
    </connectors>
    <connectors required="//@types.56/@ports.3" provided="//@types.23/@ports.0">
      <srv instance="//@configs.12/@instances.1"/>
      <cli instance="//@configs.12/@instances.0"/>
    </connectors>
    <connectors required="//@types.56/@ports.2" provided="//@types.8/@ports.0">
      <srv config="//@configs.12/@configs.1" instance="//@configs.1/@instances.3"/>
      <cli instance="//@configs.12/@instances.0"/>
    </connectors>
    <connectors required="//@types.56/@ports.1" provided="//@types.8/@ports.0">
      <srv config="//@configs.12/@configs.2" instance="//@configs.1/@instances.3"/>
      <cli instance="//@configs.12/@instances.0"/>
    </connectors>
    <connectors required="//@types.56/@ports.5" provided="//@types.4/@ports.0">
      <srv config="//@configs.12/@configs.3" instance="//@configs.8/@instances.0"/>
      <cli instance="//@configs.12/@instances.0"/>
    </connectors>
    <connectors required="//@types.56/@ports.4" provided="//@types.40/@ports.0">
      <srv config="//@configs.12/@configs.4" instance="//@configs.9/@instances.0"/>
      <cli instance="//@configs.12/@instances.0"/>
    </connectors>
    <configs name="motors" config="//@configs.11"/>
    <configs name="l1" config="//@configs.1"/>
    <configs name="l2" config="//@configs.1"/>
    <configs name="led" config="//@configs.8"/>
    <configs name="bumper" config="//@configs.9"/>
    <propassigns property="//@types.35/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.13" literal="//@types.13/@literals.0"/>
      <instance config="//@configs.12/@configs.1" instance="//@configs.1/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.8/@properties.0">
      <init xsi:type="thingml:IntegerLiteral" intValue="10"/>
      <instance config="//@configs.12/@configs.1" instance="//@configs.1/@instances.3"/>
    </propassigns>
    <propassigns property="//@types.35/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.13" literal="//@types.13/@literals.1"/>
      <instance config="//@configs.12/@configs.2" instance="//@configs.1/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.8/@properties.0">
      <init xsi:type="thingml:IntegerLiteral" intValue="10"/>
      <instance config="//@configs.12/@configs.2" instance="//@configs.1/@instances.3"/>
    </propassigns>
    <propassigns property="//@types.57/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.13"/>
      <instance config="//@configs.12/@configs.3 //@configs.8/@configs.0" instance="//@configs.7/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.58/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.5"/>
      <instance config="//@configs.12/@configs.4 //@configs.9/@configs.0" instance="//@configs.6/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.58/@properties.1">
      <init xsi:type="thingml:BooleanLiteral" boolValue="true"/>
      <instance config="//@configs.12/@configs.4 //@configs.9/@configs.0" instance="//@configs.6/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.58/@properties.0">
      <init xsi:type="thingml:EnumLiteralRef" enum="//@types.11" literal="//@types.11/@literals.6"/>
      <instance config="//@configs.12/@configs.4 //@configs.9/@configs.1" instance="//@configs.6/@instances.1"/>
    </propassigns>
    <propassigns property="//@types.58/@properties.1">
      <init xsi:type="thingml:BooleanLiteral" boolValue="true"/>
      <instance config="//@configs.12/@configs.4 //@configs.9/@configs.1" instance="//@configs.6/@instances.1"/>
    </propassigns>
  </configs>
</thingml:ThingMLModel>
